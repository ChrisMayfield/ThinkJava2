(function(c,b,a,d){Foundation.libs.dropdown={name:"dropdown",version:"5.5.3",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:false,hover_timeout:150,opened:function(){},closed:function(){}},init:function(f,g,e){Foundation.inherit(this,"throttle");c.extend(true,this.settings,g,e);this.bindings(g,e)},events:function(g){var e=this,f=e.S;f(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(i){var h=f(this).data(e.attr_name(true)+"-init")||e.settings;if(!h.is_hover||Modernizr.touch){i.preventDefault();if(f(this).parent("[data-reveal-id]").length){i.stopPropagation()}e.toggle(c(this))}}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(k){var j=f(this),l,i;clearTimeout(e.timeout);if(j.data(e.data_attr())){l=f("#"+j.data(e.data_attr()));i=j}else{l=j;i=f("["+e.attr_name()+'="'+l.attr("id")+'"]')}var h=i.data(e.attr_name(true)+"-init")||e.settings;if(f(k.currentTarget).data(e.data_attr())&&h.is_hover){e.closeall.call(e)}if(h.is_hover){e.open.apply(e,[l,i])}}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(k){var j=f(this);var h;if(j.data(e.data_attr())){h=j.data(e.data_attr(true)+"-init")||e.settings}else{var i=f("["+e.attr_name()+'="'+f(this).attr("id")+'"]'),h=i.data(e.attr_name(true)+"-init")||e.settings}e.timeout=setTimeout(function(){if(j.data(e.data_attr())){if(h.is_hover){e.close.call(e,f("#"+j.data(e.data_attr())))}}else{if(h.is_hover){e.close.call(e,j)}}}.bind(this),h.hover_timeout)}).on("click.fndtn.dropdown",function(j){var i=f(j.target).closest("["+e.attr_name()+"-content]");var h=i.find("a");if(h.length>0&&i.attr("aria-autoclose")!=="false"){e.close.call(e,f("["+e.attr_name()+"-content]"))}if(j.target!==a&&!c.contains(a.documentElement,j.target)){return}if(f(j.target).closest("["+e.attr_name()+"]").length>0){return}if(!(f(j.target).data("revealId"))&&(i.length>0&&(f(j.target).is("["+e.attr_name()+"-content]")||c.contains(i.first()[0],j.target)))){j.stopPropagation();return}e.close.call(e,f("["+e.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.closed.call(this)});f(b).off(".dropdown").on("resize.fndtn.dropdown",e.throttle(function(){e.resize.call(e)},50));this.resize()},close:function(f){var e=this;f.each(function(g){var h=c("["+e.attr_name()+"="+f[g].id+"]")||c("aria-controls="+f[g].id+"]");h.attr("aria-expanded","false");if(e.S(this).hasClass(e.settings.active_class)){e.S(this).css(Foundation.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(e.settings.active_class).prev("["+e.attr_name()+"]").removeClass(e.settings.active_class).removeData("target");e.S(this).trigger("closed.fndtn.dropdown",[f])}});f.removeClass("f-open-"+this.attr_name(true))},closeall:function(){var e=this;c.each(e.S(".f-open-"+this.attr_name(true)),function(){e.close.call(e,e.S(this))})},open:function(f,e){this.css(f.addClass(this.settings.active_class),e);f.prev("["+this.attr_name()+"]").addClass(this.settings.active_class);f.data("target",e.get(0)).trigger("opened.fndtn.dropdown",[f,e]);f.attr("aria-hidden","false");e.attr("aria-expanded","true");f.focus();f.addClass("f-open-"+this.attr_name(true))},data_attr:function(){if(this.namespace.length>0){return this.namespace+"-"+this.name}return this.name},toggle:function(e){if(e.hasClass(this.settings.disabled_class)){return}var f=this.S("#"+e.data(this.data_attr()));if(f.length===0){return}this.close.call(this,this.S("["+this.attr_name()+"-content]").not(f));if(f.hasClass(this.settings.active_class)){this.close.call(this,f);if(f.data("target")!==e.get(0)){this.open.call(this,f,e)}}else{this.open.call(this,f,e)}},resize:function(){var f=this.S("["+this.attr_name()+"-content].open");var e=c(f.data("target"));if(f.length&&e.length){this.css(f,e)}},css:function(k,i){var e=Math.max((i.width()-k.width())/2,8),f=i.data(this.attr_name(true)+"-init")||this.settings,h=k.parent().css("overflow-y")||k.parent().css("overflow");this.clear_idx();if(this.small()){var g=this.dirs.bottom.call(k,i,f);k.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:g.top});k.css(Foundation.rtl?"right":"left",e)}else{if(h!=="visible"){var j=i[0].offsetTop+i[0].offsetHeight;k.attr("style","").css({position:"absolute",top:j});k.css(Foundation.rtl?"right":"left",e)}else{this.style(k,i,f)}}return k},style:function(h,g,f){var e=c.extend({position:"absolute"},this.dirs[f.align].call(h,g,f));h.attr("style","").css(e)},dirs:{_base:function(m,q){var j=this.offsetParent(),h=j.offset(),g=m.offset();g.top-=h.top;g.left-=h.left;g.missRight=false;g.missTop=false;g.missLeft=false;g.leftRightFlag=false;var k;var i=b.innerWidth;if(a.getElementsByClassName("row")[0]){k=a.getElementsByClassName("row")[0].clientWidth}else{k=i}var l=(i-k)/2;var f=k;if(!this.hasClass("mega")&&!q.ignore_repositioning){var n=this.outerWidth();var e=m.offset().left;if(m.offset().top<=this.outerHeight()){g.missTop=true;f=i-l;g.leftRightFlag=true}if(e+n>e+l&&e-l>n){g.missRight=true;g.missLeft=false}if(e-n<=0){g.missLeft=true;g.missRight=false}}return g},top:function(f,g){var e=Foundation.libs.dropdown,h=e.dirs._base.call(this,f,g);this.addClass("drop-top");if(h.missTop==true){h.top=h.top+f.outerHeight()+this.outerHeight();this.removeClass("drop-top")}if(h.missRight==true){h.left=h.left-this.outerWidth()+f.outerWidth()}if(f.outerWidth()<this.outerWidth()||e.small()||this.hasClass(g.mega_menu)){e.adjust_pip(this,f,g,h)}if(Foundation.rtl){return{left:h.left-this.outerWidth()+f.outerWidth(),top:h.top-this.outerHeight()}}return{left:h.left,top:h.top-this.outerHeight()}},bottom:function(f,g){var e=Foundation.libs.dropdown,h=e.dirs._base.call(this,f,g);if(h.missRight==true){h.left=h.left-this.outerWidth()+f.outerWidth()}if(f.outerWidth()<this.outerWidth()||e.small()||this.hasClass(g.mega_menu)){e.adjust_pip(this,f,g,h)}if(e.rtl){return{left:h.left-this.outerWidth()+f.outerWidth(),top:h.top+f.outerHeight()}}return{left:h.left,top:h.top+f.outerHeight()}},left:function(e,f){var g=Foundation.libs.dropdown.dirs._base.call(this,e,f);this.addClass("drop-left");if(g.missLeft==true){g.left=g.left+this.outerWidth();g.top=g.top+e.outerHeight();this.removeClass("drop-left")}return{left:g.left-this.outerWidth(),top:g.top}},right:function(f,g){var h=Foundation.libs.dropdown.dirs._base.call(this,f,g);this.addClass("drop-right");if(h.missRight==true){h.left=h.left-this.outerWidth();h.top=h.top+f.outerHeight();this.removeClass("drop-right")}else{h.triggeredRight=true}var e=Foundation.libs.dropdown;if(f.outerWidth()<this.outerWidth()||e.small()||this.hasClass(g.mega_menu)){e.adjust_pip(this,f,g,h)}return{left:h.left+f.outerWidth(),top:h.top}}},adjust_pip:function(n,i,f,g){var j=Foundation.stylesheet,m=8;if(n.hasClass(f.mega_class)){m=g.left+(i.outerWidth()/2)-8}else{if(this.small()){m+=g.left-8}}this.rule_idx=j.cssRules.length;var l=".f-dropdown.open:before",h=".f-dropdown.open:after",e="left: "+m+"px;",k="left: "+(m-1)+"px;";if(g.missRight==true){m=n.outerWidth()-23;l=".f-dropdown.open:before",h=".f-dropdown.open:after",e="left: "+m+"px;",k="left: "+(m-1)+"px;"}if(g.triggeredRight==true){l=".f-dropdown.open:before",h=".f-dropdown.open:after",e="left:-12px;",k="left:-14px;"}if(j.insertRule){j.insertRule([l,"{",e,"}"].join(" "),this.rule_idx);j.insertRule([h,"{",k,"}"].join(" "),this.rule_idx+1)}else{j.addRule(l,e,this.rule_idx);j.addRule(h,k,this.rule_idx+1)}},clear_idx:function(){var e=Foundation.stylesheet;if(typeof this.rule_idx!=="undefined"){e.deleteRule(this.rule_idx);e.deleteRule(this.rule_idx);delete this.rule_idx}},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown");this.S("html, body").off(".fndtn.dropdown");this.S(b).off(".fndtn.dropdown");this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document));