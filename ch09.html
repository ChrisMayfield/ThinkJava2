<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>11&nbsp; Immutable Objects – Think Java</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./ch10.html" rel="next">
<link href="./ch08.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="custom.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./ch09.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Immutable Objects</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Think Java</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Think Java</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Preface</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Computer Programming</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Variables and Operators</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Input and Output</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Methods and Testing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Conditionals and Logic</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Loops and Strings</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Arrays and References</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Recursive Methods</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch09.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Immutable Objects</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Mutable Objects</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Designing Classes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Arrays of Objects</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch13.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Objects of Arrays</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch14.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Extending Classes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch15.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Arrays of Arrays</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch16.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Reusing Classes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch17.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Advanced Topics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Tools</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Javadoc</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Graphics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Debugging</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#primitives-vs-objects" id="toc-primitives-vs-objects" class="nav-link active" data-scroll-target="#primitives-vs-objects"><span class="header-section-number">11.1</span> Primitives vs Objects</a></li>
  <li><a href="#the-null-keyword" id="toc-the-null-keyword" class="nav-link" data-scroll-target="#the-null-keyword"><span class="header-section-number">11.2</span> The null Keyword</a></li>
  <li><a href="#strings-are-immutable" id="toc-strings-are-immutable" class="nav-link" data-scroll-target="#strings-are-immutable"><span class="header-section-number">11.3</span> Strings Are Immutable</a></li>
  <li><a href="#wrapper-classes" id="toc-wrapper-classes" class="nav-link" data-scroll-target="#wrapper-classes"><span class="header-section-number">11.4</span> Wrapper Classes</a></li>
  <li><a href="#command-line-arguments" id="toc-command-line-arguments" class="nav-link" data-scroll-target="#command-line-arguments"><span class="header-section-number">11.5</span> Command-Line Arguments</a></li>
  <li><a href="#argument-validation" id="toc-argument-validation" class="nav-link" data-scroll-target="#argument-validation"><span class="header-section-number">11.6</span> Argument Validation</a></li>
  <li><a href="#biginteger-arithmetic" id="toc-biginteger-arithmetic" class="nav-link" data-scroll-target="#biginteger-arithmetic"><span class="header-section-number">11.7</span> BigInteger Arithmetic</a></li>
  <li><a href="#encapsulation" id="toc-encapsulation" class="nav-link" data-scroll-target="#encapsulation"><span class="header-section-number">11.8</span> Incremental Design</a></li>
  <li><a href="#more-generalization" id="toc-more-generalization" class="nav-link" data-scroll-target="#more-generalization"><span class="header-section-number">11.9</span> More Generalization</a></li>
  <li><a href="#vocabulary" id="toc-vocabulary" class="nav-link" data-scroll-target="#vocabulary"><span class="header-section-number">11.10</span> Vocabulary</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises"><span class="header-section-number">11.11</span> Exercises</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Immutable Objects</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Java is an <strong>object-oriented</strong> language, which means that it uses objects to (1)&nbsp;represent data and (2)&nbsp;provide methods related to them. This way of organizing programs is a powerful design concept, and we will introduce it gradually throughout the remainder of the book.</p>
<p>An <strong>object</strong> is a collection of data that provides a set of methods. For example, <code class="sourceCode java"><span class="bu">Scanner</span></code>, which you saw in Section&nbsp;<a href="ch03.html#scanner" data-reference-type="ref" data-reference="scanner">3.2</a>, is an object that provides methods for parsing input. <code class="sourceCode java"><span class="bu">System</span><span class="op">.</span><span class="fu">out</span></code> and <code class="sourceCode java"><span class="bu">System</span><span class="op">.</span><span class="fu">in</span></code> are also objects.</p>
<p>Strings are objects, too. They contain characters and provide methods for manipulating character data. Other data types, like <code class="sourceCode java"><span class="bu">Integer</span></code>, contain numbers and provide methods for manipulating number data. We will explore some of these methods in this chapter.</p>
<section id="primitives-vs-objects" class="level2" data-number="11.1">
<h2 data-number="11.1" class="anchored" data-anchor-id="primitives-vs-objects"><span class="header-section-number">11.1</span> Primitives vs Objects</h2>
<p>Not everything in Java is an object: <code class="sourceCode java"><span class="dt">int</span></code>, <code class="sourceCode java"><span class="dt">double</span></code>, <code class="sourceCode java"><span class="dt">char</span></code>, and <code class="sourceCode java"><span class="dt">boolean</span></code> are <strong>primitive</strong> types. When you declare a variable with a primitive type, Java reserves a small amount of memory to store its value. Figure&nbsp;<a href="#fig.mem1" data-reference-type="ref" data-reference="fig.mem1">9.1</a> shows how the following values are stored in memory:</p>
<div class="sourceCode" id="cb1" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> number <span class="op">=</span> <span class="op">-</span><span class="dv">2</span><span class="op">;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="dt">char</span> symbol <span class="op">=</span> <span class="ch">'!'</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<figure id="fig.mem1" class="figure">
<div class="center">
<p><img src="figs/mem1-.svg" class="figure-img"></p>
</div>
<figcaption>
Memory diagram of two primitive variables.
</figcaption>
</figure>
<p>As you learned in Section&nbsp;<a href="ch07.html#elements" data-reference-type="ref" data-reference="elements">7.2</a>, an array variable stores a <em>reference</em> to an array. For example, the following line declares a variable named <code class="sourceCode java">array</code> and creates an array of three characters:</p>
<div class="sourceCode" id="cb2" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dt">char</span><span class="op">[]</span> array <span class="op">=</span> <span class="op">{</span><span class="ch">'c'</span><span class="op">,</span> <span class="ch">'a'</span><span class="op">,</span> <span class="ch">'t'</span><span class="op">};</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Figure&nbsp;<a href="#fig.mem2" data-reference-type="ref" data-reference="fig.mem2">9.2</a> shows them both, with a box to represent the location of the variable and an arrow pointing to the location of the array.</p>
<figure id="fig.mem2" class="figure">
<div class="center">
<p><img src="figs/mem2-.svg" class="figure-img"></p>
</div>
<figcaption>
Memory diagram of an array of characters.
</figcaption>
</figure>
<p>Objects work in a similar way. For example, this line declares a <code class="sourceCode java"><span class="bu">String</span></code> variable named <code class="sourceCode java">word</code> and creates a <code class="sourceCode java"><span class="bu">String</span></code> object, as shown in Figure&nbsp;<a href="#fig.mem3" data-reference-type="ref" data-reference="fig.mem3">9.3</a>:</p>
<div class="sourceCode" id="cb3" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> word <span class="op">=</span> <span class="st">"dog"</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<figure id="fig.mem3" class="figure">
<div class="center">
<p><img src="figs/mem3-.svg" class="figure-img"></p>
</div>
<figcaption>
Memory diagram of a <code class="sourceCode java"><span class="bu">String</span></code> object.
</figcaption>
</figure>
<p>Objects and arrays are usually created with the <code class="sourceCode java"><span class="kw">new</span></code> keyword, which allocates memory for them. For convenience, you don’t have to use <code class="sourceCode java"><span class="kw">new</span></code> to create strings:</p>
<div class="sourceCode" id="cb4" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> word1 <span class="op">=</span> <span class="kw">new</span> <span class="bu">String</span><span class="op">(</span><span class="st">"dog"</span><span class="op">);</span>  <span class="co">// creates a string object</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> word2 <span class="op">=</span> <span class="st">"dog"</span><span class="op">;</span>   <span class="co">// implicitly creates a string object</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Recall from Section&nbsp;<a href="ch06.html#strcmp" data-reference-type="ref" data-reference="strcmp">6.10</a> that you need to use the <code class="sourceCode java">equals</code> method to compare strings. The <code class="sourceCode java">equals</code> method traverses the <code class="sourceCode java"><span class="bu">String</span></code> objects and tests whether they contain the same characters.</p>
<p>To test whether two integers or other primitive types are equal, you can simply use the <code class="sourceCode java"><span class="op">==</span></code> operator. But two <code class="sourceCode java"><span class="bu">String</span></code> objects with the same characters would not be considered equal in the <code class="sourceCode java"><span class="op">==</span></code> sense. The <code class="sourceCode java"><span class="op">==</span></code> operator, when applied to string variables, tests only whether they refer to the <em>same</em> object.</p>
</section>
<section id="the-null-keyword" class="level2" data-number="11.2">
<h2 data-number="11.2" class="anchored" data-anchor-id="the-null-keyword"><span class="header-section-number">11.2</span> The null Keyword</h2>
<p>Often when you declare an object variable, you assign it to reference an object. But sometimes you want to declare a variable that doesn’t refer to an object, at least initially.</p>
<p>In Java, the keyword <code class="sourceCode java"><span class="kw">null</span></code> is a special value that means “no object”. You can initialize object and array variables this way:</p>
<div class="sourceCode" id="cb5" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> name <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span><span class="op">[]</span> combo <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The value <code class="sourceCode java"><span class="kw">null</span></code> is represented in memory diagrams by a small box with no arrow, as in Figure&nbsp;<a href="#fig.mem4" data-reference-type="ref" data-reference="fig.mem4">9.4</a>.</p>
<figure id="fig.mem4" class="figure">
<div class="center">
<p><img src="figs/mem4-.svg" class="figure-img"></p>
</div>
<figcaption>
Memory diagram showing variables that are <code class="sourceCode java"><span class="kw">null</span></code>.
</figcaption>
</figure>
<p>If you try to use a variable that is <code class="sourceCode java"><span class="kw">null</span></code> by invoking a method or accessing an element, Java throws a <code class="sourceCode java"><span class="bu">NullPointerException</span></code>:</p>
<div class="sourceCode" id="cb6" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>name<span class="op">.</span><span class="fu">length</span><span class="op">());</span>  <span class="co">// NullPointerException</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>combo<span class="op">[</span><span class="dv">0</span><span class="op">]);</span>       <span class="co">// NullPointerException</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>On the other hand, it is perfectly fine to pass a <code class="sourceCode java"><span class="kw">null</span></code> reference as an argument to a method, or to receive one as a return value. In these situations, <code class="sourceCode java"><span class="kw">null</span></code> is often used to represent a special condition or indicate an error.</p>
</section>
<section id="strings-are-immutable" class="level2" data-number="11.3">
<h2 data-number="11.3" class="anchored" data-anchor-id="strings-are-immutable"><span class="header-section-number">11.3</span> Strings Are Immutable</h2>
<p>If the Java library didn’t have a <code class="sourceCode java"><span class="bu">String</span></code> class, we would have to use character arrays to store and manipulate text. Operations like concatenation&nbsp;(<code class="sourceCode java"><span class="op">+</span></code>), <code class="sourceCode java">indexOf</code>, and <code class="sourceCode java">substring</code> would be difficult and inconvenient. Fortunately, Java does have a <code class="sourceCode java"><span class="bu">String</span></code> class that provides these and other methods.</p>
<p>For example, the methods <code class="sourceCode java">toLowerCase</code> and <code class="sourceCode java">toUpperCase</code> convert uppercase letters to lowercase, and vice versa. These methods are often a source of confusion, because it sounds like they modify strings. But neither these methods nor any others can change a string, because strings are <strong>immutable</strong>.</p>
<p>When you invoke <code class="sourceCode java">toUpperCase</code> on a string, you get a new <code class="sourceCode java"><span class="bu">String</span></code> object as a result. For example:</p>
<div class="sourceCode" id="cb7" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> name <span class="op">=</span> <span class="st">"Alan Turing"</span><span class="op">;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> upperName <span class="op">=</span> name<span class="op">.</span><span class="fu">toUpperCase</span><span class="op">();</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>After these statements run, <code class="sourceCode java">upperName</code> refers to the string <code class="sourceCode java"><span class="st">"ALAN TURING"</span></code>. But <code class="sourceCode java">name</code> still refers to <code class="sourceCode java"><span class="st">"Alan Turing"</span></code>. A common mistake is to assume that <code class="sourceCode java">toUpperCase</code> somehow affects the original string:</p>
<div class="sourceCode" id="cb8" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> name <span class="op">=</span> <span class="st">"Alan Turing"</span><span class="op">;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>name<span class="op">.</span><span class="fu">toUpperCase</span><span class="op">();</span>           <span class="co">// ignores the return value</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>name<span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The previous code displays <code class="sourceCode java"><span class="st">"Alan Turing"</span></code>, because the value of <code class="sourceCode java">name</code>, which refers to the original <code class="sourceCode java"><span class="bu">String</span></code> object, never changes. If you want to change <code class="sourceCode java">name</code> to be uppercase, then you need to assign the return value:</p>
<div class="sourceCode" id="cb9" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> name <span class="op">=</span> <span class="st">"Alan Turing"</span><span class="op">;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> name<span class="op">.</span><span class="fu">toUpperCase</span><span class="op">();</span>    <span class="co">// references the new string</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>name<span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>A similar method is <code class="sourceCode java">replace</code>, which finds and replaces instances of one string within another. This example replaces <code class="sourceCode java"><span class="st">"Computer Science"</span></code> with <code class="sourceCode java"><span class="st">"CS"</span></code>:</p>
<div class="sourceCode" id="cb10" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> text <span class="op">=</span> <span class="st">"Computer Science is fun!"</span><span class="op">;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> text<span class="op">.</span><span class="fu">replace</span><span class="op">(</span><span class="st">"Computer Science"</span><span class="op">,</span> <span class="st">"CS"</span><span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>As with <code class="sourceCode java">toUpperCase</code>, assigning the return value (to <code class="sourceCode java">text</code>) is important. If you don’t assign the return value, invoking <code class="sourceCode java">text<span class="op">.</span><span class="fu">replace</span></code> has no effect.</p>
<p>Strings are immutable by design, because it simplifies passing them as parameters and return values. And since the contents of a string can never change, two variables can reference the same string without one accidentally corrupting the other.</p>
</section>
<section id="wrapper-classes" class="level2" data-number="11.4">
<h2 data-number="11.4" class="anchored" data-anchor-id="wrapper-classes"><span class="header-section-number">11.4</span> Wrapper Classes</h2>
<p>Primitive types like <code class="sourceCode java"><span class="dt">int</span></code>, <code class="sourceCode java"><span class="dt">double</span></code>, and <code class="sourceCode java"><span class="dt">char</span></code> cannot be <code class="sourceCode java"><span class="kw">null</span></code>, and they do not provide methods. For example, you can’t invoke <code class="sourceCode java">equals</code> on an <code class="sourceCode java"><span class="dt">int</span></code>:</p>
<div class="sourceCode" id="cb11" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> i <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>i<span class="op">.</span><span class="fu">equals</span><span class="op">(</span><span class="dv">5</span><span class="op">));</span>  <span class="co">// compiler error</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>But for each primitive type, there is a corresponding <strong>wrapper class</strong> in the Java library. The wrapper class for <code class="sourceCode java"><span class="dt">int</span></code> is named <code class="sourceCode java"><span class="bu">Integer</span></code>, with a capital <code class="sourceCode java">I</code>:</p>
<div class="sourceCode" id="cb12" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Integer</span> i <span class="op">=</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">valueOf</span><span class="op">(</span><span class="dv">5</span><span class="op">);</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>i<span class="op">.</span><span class="fu">equals</span><span class="op">(</span><span class="dv">5</span><span class="op">));</span>  <span class="co">// displays true</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Other wrapper classes include <code class="sourceCode java"><span class="bu">Boolean</span></code>, <code class="sourceCode java"><span class="bu">Character</span></code>, <code class="sourceCode java"><span class="bu">Double</span></code>, and <code class="sourceCode java"><span class="bu">Long</span></code>. They are in the <code class="sourceCode java">java<span class="op">.</span><span class="fu">lang</span></code> package, so you can use them without importing them.</p>
<p>Like strings, objects from wrapper classes are immutable, and you have to use the <code class="sourceCode java">equals</code> method to compare them:</p>
<div class="sourceCode" id="cb13" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Integer</span> x <span class="op">=</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">valueOf</span><span class="op">(</span><span class="dv">123</span><span class="op">);</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">Integer</span> y <span class="op">=</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">valueOf</span><span class="op">(</span><span class="dv">123</span><span class="op">);</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>x <span class="op">==</span> y<span class="op">)</span> <span class="op">{</span>                     <span class="co">// false</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">"x and y are the same object"</span><span class="op">);</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>x<span class="op">.</span><span class="fu">equals</span><span class="op">(</span>y<span class="op">))</span> <span class="op">{</span>                <span class="co">// true</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">"x and y have the same value"</span><span class="op">);</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Because <code class="sourceCode java">x</code> and <code class="sourceCode java">y</code> refer to different objects, this code displays only “x and y have the same value”.</p>
<p>Each wrapper class defines the constants <code class="sourceCode java">MIN_VALUE</code> and <code class="sourceCode java">MAX_VALUE</code>. For example, <code class="sourceCode java"><span class="bu">Integer</span><span class="op">.</span><span class="fu">MIN_VALUE</span></code> is <code class="sourceCode java"><span class="op">-</span><span class="dv">2147483648</span></code>, and <code class="sourceCode java"><span class="bu">Integer</span><span class="op">.</span><span class="fu">MAX_VALUE</span></code> is <code class="sourceCode java"><span class="dv">2147483647</span></code>. Because these constants are available in wrapper classes, you don’t have to remember them, and you don’t have to write them yourself.</p>
<p>Wrapper classes also provide methods for converting strings to and from primitive types. For example, <code class="sourceCode java"><span class="bu">Integer</span><span class="op">.</span><span class="fu">parseInt</span></code> converts a string to an <code class="sourceCode java"><span class="dt">int</span></code>. In this context, <strong>parse</strong> means “read and translate”.</p>
<div class="sourceCode" id="cb14" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> str <span class="op">=</span> <span class="st">"12345"</span><span class="op">;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> num <span class="op">=</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">parseInt</span><span class="op">(</span>str<span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Other wrapper classes provide similar methods, like <code class="sourceCode java"><span class="bu">Double</span><span class="op">.</span><span class="fu">parseDouble</span></code> and <code class="sourceCode java"><span class="bu">Boolean</span><span class="op">.</span><span class="fu">parseBoolean</span></code>. They also provide <code class="sourceCode java">toString</code>, which returns a string representation of a value:</p>
<div class="sourceCode" id="cb15" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> num <span class="op">=</span> <span class="dv">12345</span><span class="op">;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> str <span class="op">=</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">toString</span><span class="op">(</span>num<span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The result is the <code class="sourceCode java"><span class="bu">String</span></code> object <code class="sourceCode java"><span class="st">"12345"</span></code>.</p>
<p>It’s always possible to convert a primitive value to a string, but not the other way around. For example, say we try to parse an invalid string like this:</p>
<div class="sourceCode" id="cb16" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> str <span class="op">=</span> <span class="st">"five"</span><span class="op">;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> num <span class="op">=</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">parseInt</span><span class="op">(</span>str<span class="op">);</span>  <span class="co">// NumberFormatException</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code class="sourceCode java">parseInt</code> throws a <code class="sourceCode java"><span class="bu">NumberFormatException</span></code>, because the characters in the string <code class="sourceCode java"><span class="st">"five"</span></code> are not digits.</p>
</section>
<section id="command-line-arguments" class="level2" data-number="11.5">
<h2 data-number="11.5" class="anchored" data-anchor-id="command-line-arguments"><span class="header-section-number">11.5</span> Command-Line Arguments</h2>
<p>Now that you know about strings, arrays, and wrapper classes, we can <em>finally</em> explain the <code class="sourceCode java">args</code> parameter of the <code class="sourceCode java">main</code> method, which we have been ignoring since Chapter&nbsp;<a href="#theway" data-reference-type="ref" data-reference="theway">1</a>. If you are unfamiliar with the command-line interface, please read Appendix&nbsp;<a href="appa.html#commandline" data-reference-type="ref" data-reference="commandline">18.3</a>.</p>
<p>Let’s write a program to find the maximum value in a sequence of numbers. Rather than read the numbers from <code class="sourceCode java"><span class="bu">System</span><span class="op">.</span><span class="fu">in</span></code> by using a <code class="sourceCode java"><span class="bu">Scanner</span></code>, we’ll pass them as command-line arguments. Here is a starting point:</p>
<div class="sourceCode" id="cb17" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">util</span><span class="op">.</span><span class="im">Arrays</span><span class="op">;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Max <span class="op">{</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="bu">Arrays</span><span class="op">.</span><span class="fu">toString</span><span class="op">(</span>args<span class="op">));</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can run this program from the command line by typing this:</p>
<pre><code>java Max</code></pre>
<p>The output indicates that <code class="sourceCode java">args</code> is an <strong>empty array</strong>; that is, it has no elements:</p>
<pre><code>[]</code></pre>
<p>If you provide additional values on the command line, they are passed as arguments to <code class="sourceCode java">main</code>. For example, say you run the program like this:</p>
<pre><code>java Max 10 -3 55 0 14</code></pre>
<p>The output is shown here:</p>
<pre><code>[10, -3, 55, 0, 14]</code></pre>
<p>It’s not clear from the output, but the elements of <code class="sourceCode java">args</code> are strings. So <code class="sourceCode java">args</code> is the array <code class="sourceCode java">\<span class="op">{</span><span class="st">"10"</span><span class="op">,</span> <span class="st">"-3"</span><span class="op">,</span> <span class="st">"55"</span><span class="op">,</span> <span class="st">"0"</span><span class="op">,</span> <span class="st">"14"</span>\<span class="op">}</span></code>. To find the maximum number, we have to convert the arguments to integers.</p>
<p>The following code uses an enhanced <code class="sourceCode java"><span class="cf">for</span></code> loop (see Section&nbsp;<a href="ch07.html#enhanced" data-reference-type="ref" data-reference="enhanced">7.8</a>) to parse the arguments and find the largest value:</p>
<div class="sourceCode" id="cb22" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> max <span class="op">=</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">MIN_VALUE</span><span class="op">;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="bu">String</span> arg <span class="op">:</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> value <span class="op">=</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">parseInt</span><span class="op">(</span>arg<span class="op">);</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>value <span class="op">&gt;</span> max<span class="op">)</span> <span class="op">{</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>        max <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">"The max is "</span> <span class="op">+</span> max<span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We begin by initializing <code class="sourceCode java">max</code> to the smallest (most negative) number an <code class="sourceCode java"><span class="dt">int</span></code> can represent. That way, the first value we parse will replace <code class="sourceCode java">max</code>. As we find larger values, they will replace <code class="sourceCode java">max</code> as well.</p>
<p>If <code class="sourceCode java">args</code> is empty, the result will be <code class="sourceCode java">MIN_VALUE</code>. We can prevent this situation from happening by checking <code class="sourceCode java">args</code> at the beginning of the program:</p>
<div class="sourceCode" id="cb23" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>args<span class="op">.</span><span class="fu">length</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">err</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">"Usage: java Max &lt;numbers&gt;"</span><span class="op">);</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span><span class="op">;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It’s customary for programs that require command-line arguments to display a “usage” message if the arguments are not valid. For example, if you run <code>javac</code> or <code>java</code> from the command line without any arguments, you will get a very long message.</p>
</section>
<section id="argument-validation" class="level2" data-number="11.6">
<h2 data-number="11.6" class="anchored" data-anchor-id="argument-validation"><span class="header-section-number">11.6</span> Argument Validation</h2>
<p>As we discussed in Section&nbsp;<a href="ch05.html#validate" data-reference-type="ref" data-reference="validate">5.9</a>, you should never assume that program input will be in the correct format. Sometimes users make mistakes, such as pressing the wrong key or misreading instructions.</p>
<p>Or even worse, someone might make intentional “mistakes” to see what your program will do. One way hackers break into computer systems is by entering malicious input that causes a program to fail.</p>
<p>Programmers can make mistakes too. It’s difficult to write bug-free software, especially when working in teams on large projects.</p>
<p>For all of these reasons, it’s good practice to validate arguments passed to methods, including the <code class="sourceCode java">main</code> method. In the previous section, we did this by ensuring that <code class="sourceCode java">args<span class="op">.</span><span class="fu">length</span></code> was not 0.</p>
<p>As a further example, consider a method that checks whether the first word of a sentence is capitalized. We can write this method using the <code class="sourceCode java"><span class="bu">Character</span></code> wrapper class:</p>
<div class="sourceCode" id="cb24" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">boolean</span> <span class="fu">isCapitalized</span><span class="op">(</span><span class="bu">String</span> str<span class="op">)</span> <span class="op">{</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">Character</span><span class="op">.</span><span class="fu">isUpperCase</span><span class="op">(</span>str<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span><span class="dv">0</span><span class="op">));</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The expression <code class="sourceCode java">str<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span><span class="dv">0</span><span class="op">)</span></code> makes two assumptions: the string object referenced by <code class="sourceCode java">str</code> exists, and it has at least one character. What if these assumptions don’t hold at run-time?</p>
<ul>
<li><p>If <code class="sourceCode java">str</code> is <code class="sourceCode java"><span class="kw">null</span></code>, invoking <code class="sourceCode java">charAt</code> will cause a <code class="sourceCode java"><span class="bu">NullPointerException</span></code>, because you can’t invoke a method on <code class="sourceCode java"><span class="kw">null</span></code>.</p></li>
<li><p>If <code class="sourceCode java">str</code> refers to an empty string, which is a <code class="sourceCode java"><span class="bu">String</span></code> object with no characters, <code class="sourceCode java">charAt</code> will cause a <code class="sourceCode java"><span class="bu">StringIndexOutOfBoundsException</span></code>, because there is no character at index <code class="sourceCode java"><span class="dv">0</span></code>.</p></li>
</ul>
<p>We can prevent these exceptions by validating <code class="sourceCode java">str</code> <em>at the start</em> of the method. If it’s invalid, we return before executing the rest of the method:</p>
<div class="sourceCode" id="cb25" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">boolean</span> <span class="fu">isCapitalized</span><span class="op">(</span><span class="bu">String</span> str<span class="op">)</span> <span class="op">{</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>str <span class="op">==</span> <span class="kw">null</span> <span class="op">||</span> str<span class="op">.</span><span class="fu">isEmpty</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">Character</span><span class="op">.</span><span class="fu">isUpperCase</span><span class="op">(</span>str<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span><span class="dv">0</span><span class="op">));</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Notice that <code class="sourceCode java"><span class="kw">null</span></code> and <em>empty</em> are different concepts, as shown in Figure&nbsp;<a href="#fig.nullempty" data-reference-type="ref" data-reference="fig.nullempty">9.5</a>. The variable <code class="sourceCode java">str1</code> is <code class="sourceCode java"><span class="kw">null</span></code>, meaning that it doesn’t reference an object. The variable <code class="sourceCode java">str2</code> refers to the empty string, an object that exists.</p>
<figure id="fig.nullempty" class="figure">
<div class="center">
<p><img src="figs/nullempty-.svg" class="figure-img"></p>
</div>
<figcaption>
Memory diagram of <code class="sourceCode java"><span class="kw">null</span></code> and empty string.
</figcaption>
</figure>
<p>Beginners sometimes make the mistake of checking for empty first. Doing so causes a <code class="sourceCode java"><span class="bu">NullPointerException</span></code>, because you can’t invoke methods on variables that are <code class="sourceCode java"><span class="kw">null</span></code>:</p>
<div class="sourceCode" id="cb26" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>str<span class="op">.</span><span class="fu">isEmpty</span><span class="op">()</span> <span class="op">||</span> str <span class="op">==</span> <span class="kw">null</span><span class="op">)</span> <span class="op">{</span>    <span class="co">// wrong!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Checking for <code class="sourceCode java"><span class="kw">null</span></code> first prevents the <code class="sourceCode java"><span class="bu">NullPointerException</span></code>. If <code class="sourceCode java">str</code> is <code class="sourceCode java"><span class="kw">null</span></code>, the <code class="sourceCode java"><span class="op">||</span></code> operator will short circuit (see Section&nbsp;<a href="#shortcircuit" data-reference-type="ref" data-reference="shortcircuit">[shortcircuit]</a>) and evaluate to <code class="sourceCode java"><span class="kw">true</span></code> immediately. As a result, <code class="sourceCode java">str<span class="op">.</span><span class="fu">isEmpty</span><span class="op">()</span></code> will not be called.</p>
</section>
<section id="biginteger-arithmetic" class="level2" data-number="11.7">
<h2 data-number="11.7" class="anchored" data-anchor-id="biginteger-arithmetic"><span class="header-section-number">11.7</span> BigInteger Arithmetic</h2>
<p>It might not be clear at this point why you would ever need an integer object when you can just use an <code class="sourceCode java"><span class="dt">int</span></code> or <code class="sourceCode java"><span class="dt">long</span></code>. One advantage is the variety of methods that <code class="sourceCode java"><span class="bu">Integer</span></code> and <code class="sourceCode java"><span class="bu">Long</span></code> provide. But there is another reason: when you need very large integers that exceed <code class="sourceCode java"><span class="bu">Long</span><span class="op">.</span><span class="fu">MAX_VALUE</span></code>.</p>
<p><code class="sourceCode java"><span class="bu">BigInteger</span></code> is a Java class that can represent arbitrarily large integers. There is no upper bound except the limitations of memory size and processing speed. Take a minute to read the documentation, which you can find by doing a web search for “Java BigInteger”.</p>
<p>To use BigIntegers, you have to <code class="sourceCode java"><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">math</span><span class="op">.</span><span class="im">BigInteger</span></code> at the beginning of your program. There are several ways to create a BigInteger, but the simplest uses <code class="sourceCode java">valueOf</code>. The following code converts a <code class="sourceCode java"><span class="dt">long</span></code> to a <code class="sourceCode java"><span class="bu">BigInteger</span></code>:</p>
<div class="sourceCode" id="cb27" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="dt">long</span> x <span class="op">=</span> <span class="dv">17</span><span class="op">;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="bu">BigInteger</span> big <span class="op">=</span> <span class="bu">BigInteger</span><span class="op">.</span><span class="fu">valueOf</span><span class="op">(</span>x<span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can also create BigIntegers from strings. For example, here is a 20-digit integer that is too big to store using a <code class="sourceCode java"><span class="dt">long</span></code>:</p>
<div class="sourceCode" id="cb28" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> s <span class="op">=</span> <span class="st">"12345678901234567890"</span><span class="op">;</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="bu">BigInteger</span> bigger <span class="op">=</span> <span class="kw">new</span> <span class="bu">BigInteger</span><span class="op">(</span>s<span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Notice the difference in the previous two examples: you use <code class="sourceCode java">valueOf</code> to convert integers, and <code class="sourceCode java"><span class="kw">new</span> <span class="bu">BigInteger</span></code> to convert strings.</p>
<p>Since BigIntegers are not primitive types, the usual math operators don’t work. Instead, we have to use methods like <code class="sourceCode java">add</code>. To add two BigIntegers, we invoke <code class="sourceCode java">add</code> on one and pass the other as an argument:</p>
<div class="sourceCode" id="cb29" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="bu">BigInteger</span> a <span class="op">=</span> <span class="bu">BigInteger</span><span class="op">.</span><span class="fu">valueOf</span><span class="op">(</span><span class="dv">17</span><span class="op">);</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="bu">BigInteger</span> b <span class="op">=</span> <span class="bu">BigInteger</span><span class="op">.</span><span class="fu">valueOf</span><span class="op">(</span><span class="dv">1700000000</span><span class="op">);</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="bu">BigInteger</span> c <span class="op">=</span> a<span class="op">.</span><span class="fu">add</span><span class="op">(</span>b<span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Like strings, <code class="sourceCode java"><span class="bu">BigInteger</span></code> objects are immutable. Methods like <code class="sourceCode java">add</code>, <code class="sourceCode java">multiply</code>, and <code class="sourceCode java">pow</code> all return new BigIntegers, rather than modify an existing one.</p>
<p>Internally, a <code class="sourceCode java"><span class="bu">BigInteger</span></code> is implemented using an array of <code class="sourceCode java"><span class="dt">int</span></code>s, similar to the way a string is implemented using an array of <code class="sourceCode java"><span class="dt">char</span></code>s. Each <code class="sourceCode java"><span class="dt">int</span></code> in the array stores a portion of the BigInteger. The methods of <code class="sourceCode java"><span class="bu">BigInteger</span></code> traverse this array to perform addition, multiplication, etc.</p>
<p>For very long floating-point values, take a look at <code class="sourceCode java">java<span class="op">.</span><span class="fu">math</span><span class="op">.</span><span class="fu">BigDecimal</span></code>. Interestingly, <code class="sourceCode java"><span class="bu">BigDecimal</span></code> objects represent floating-point numbers internally by using a <code class="sourceCode java"><span class="bu">BigInteger</span></code>!</p>
</section>
<section id="encapsulation" class="level2" data-number="11.8">
<h2 data-number="11.8" class="anchored" data-anchor-id="encapsulation"><span class="header-section-number">11.8</span> Incremental Design</h2>
<p>One challenge of programming, especially for beginners, is figuring out how to divide a program into methods. In this section, we present a <strong>design process</strong> that allows you to divide a program into methods as you go along. The process is called “encapsulation and generalization”. The essential steps are as follows:</p>
<ol type="1">
<li><p>Write a few lines of code in <code class="sourceCode java">main</code> or another method, and test them.</p></li>
<li><p>When they are working, wrap them in a new method and test again.</p></li>
<li><p>If it’s appropriate, replace literal values with variables and parameters.</p></li>
</ol>
<p>To demonstrate this process, we’ll develop methods that display multiplication tables. We begin by writing and testing a few lines of code. Here is a loop that displays the multiples of two, all on one line:</p>
<div class="sourceCode" id="cb30" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> <span class="dv">6</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">"</span><span class="sc">%4d</span><span class="st">"</span><span class="op">,</span> <span class="dv">2</span> <span class="op">*</span> i<span class="op">);</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">();</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Each time through the loop, we display the value of <code class="sourceCode java"><span class="dv">2</span> <span class="op">*</span> i</code>, padded with spaces so it’s four characters wide. Since we use <code class="sourceCode java"><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span></code>, the output appears on a single line.</p>
<p>After the loop, we call <code class="sourceCode java">println</code> to print a newline character. Remember that in some environments, none of the output is displayed until the line is complete. The output of the code so far is shown here:</p>
<pre><code>2   4   6   8  10  12</code></pre>
<p>The next step is to <strong>encapsulate</strong> the code; that is, we “wrap” the code in a method:</p>
<div class="sourceCode" id="cb32" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">printRow</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> <span class="dv">6</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">"</span><span class="sc">%4d</span><span class="st">"</span><span class="op">,</span> <span class="dv">2</span> <span class="op">*</span> i<span class="op">);</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">();</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Finally, we <strong>generalize</strong> the method to print multiples of other numbers by replacing the constant value <code class="sourceCode java"><span class="dv">2</span></code> with a parameter <code class="sourceCode java">n</code>. This step is called “generalization”, because it makes the method more general (less specific):</p>
<div class="sourceCode" id="cb33" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">printRow</span><span class="op">(</span><span class="dt">int</span> n<span class="op">)</span> <span class="op">{</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> <span class="dv">6</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">"</span><span class="sc">%4d</span><span class="st">"</span><span class="op">,</span> n <span class="op">*</span> i<span class="op">);</span>  <span class="co">// generalized n</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">();</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Invoking this method with the argument <code class="sourceCode java"><span class="dv">2</span></code> yields the same output as before. With the argument <code class="sourceCode java"><span class="dv">3</span></code>, the output is as follows:</p>
<pre><code>3   6   9  12  15  18</code></pre>
<p>By now, you can probably guess how we are going to display a multiplication table: we’ll invoke <code class="sourceCode java">printRow</code> repeatedly with different arguments. In fact, we’ll use another loop to iterate through the rows:</p>
<div class="sourceCode" id="cb35" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> <span class="dv">6</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">printRow</span><span class="op">(</span>i<span class="op">);</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And the output looks like this:</p>
<pre><code>1   2   3   4   5   6
   2   4   6   8  10  12
   3   6   9  12  15  18
   4   8  12  16  20  24
   5  10  15  20  25  30
   6  12  18  24  30  36</code></pre>
</section>
<section id="more-generalization" class="level2" data-number="11.9">
<h2 data-number="11.9" class="anchored" data-anchor-id="more-generalization"><span class="header-section-number">11.9</span> More Generalization</h2>
<p>The previous result is similar to the “nested loops” approach in Section&nbsp;<a href="ch06.html#nested" data-reference-type="ref" data-reference="nested">6.4</a>. However, the inner loop is now encapsulated in the <code class="sourceCode java">printRow</code> method. We can encapsulate the outer loop in a method too:</p>
<div class="sourceCode" id="cb37" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">printTable</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> <span class="dv">6</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">printRow</span><span class="op">(</span>i<span class="op">);</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The initial version of <code class="sourceCode java">printTable</code> always displays six rows. We can generalize it by replacing the literal <code class="sourceCode java"><span class="dv">6</span></code> with a parameter:</p>
<div class="sourceCode" id="cb38" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">printTable</span><span class="op">(</span><span class="dt">int</span> rows<span class="op">)</span> <span class="op">{</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> rows<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span>     <span class="co">// generalized rows</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">printRow</span><span class="op">(</span>i<span class="op">);</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here is the output of <code class="sourceCode java"><span class="fu">printTable</span><span class="op">(</span><span class="dv">7</span><span class="op">)</span></code>:</p>
<pre><code>1   2   3   4   5   6
   2   4   6   8  10  12
   3   6   9  12  15  18
   4   8  12  16  20  24
   5  10  15  20  25  30
   6  12  18  24  30  36
   7  14  21  28  35  42</code></pre>
<p>That’s better, but it always displays the same number of columns. We can generalize more by adding a parameter to <code class="sourceCode java">printRow</code>:</p>
<div class="sourceCode" id="cb40" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">printRow</span><span class="op">(</span><span class="dt">int</span> n<span class="op">,</span> <span class="dt">int</span> cols<span class="op">)</span> <span class="op">{</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> cols<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span>     <span class="co">// generalized cols</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">"</span><span class="sc">%4d</span><span class="st">"</span><span class="op">,</span> n <span class="op">*</span> i<span class="op">);</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">();</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now <code class="sourceCode java">printRow</code> takes two parameters: <code class="sourceCode java">n</code> is the value whose multiples should be displayed, and <code class="sourceCode java">cols</code> is the number of columns. Since we added a parameter to <code class="sourceCode java">printRow</code>, we also have to change the line in <code class="sourceCode java">printTable</code> where it is invoked:</p>
<div class="sourceCode" id="cb41" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">printTable</span><span class="op">(</span><span class="dt">int</span> rows<span class="op">)</span> <span class="op">{</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> rows<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">printRow</span><span class="op">(</span>i<span class="op">,</span> rows<span class="op">);</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When this line executes, it evaluates <code class="sourceCode java">rows</code> and passes the value, which is <code class="sourceCode java"><span class="dv">7</span></code> in this example, as an argument. In <code class="sourceCode java">printRow</code>, this value is assigned to <code class="sourceCode java">cols</code>. As a result, the number of columns equals the number of rows, so we get a square 7&nbsp;x&nbsp;7 table, instead of the previous 7&nbsp;x&nbsp;6 table.</p>
<p>When you generalize a method appropriately, you often find that it has capabilities you did not plan. For example, you might notice that the multiplication table is symmetric. Since <span class="math inline">\(ab = ba\)</span>, all the entries in the table appear twice. You could save ink by printing half of the table, and you would have to change only <em>one line</em> of <code class="sourceCode java">printTable</code>:</p>
<div class="sourceCode" id="cb42" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">printRow</span><span class="op">(</span>i<span class="op">,</span> i<span class="op">);</span>  <span class="co">// using i for both n and cols</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This means the length of each row is the same as its row number. The result is a triangular multiplication table:</p>
<pre><code>1
   2   4
   3   6   9
   4   8  12  16
   5  10  15  20  25
   6  12  18  24  30  36
   7  14  21  28  35  42  49</code></pre>
<p>Generalization makes code more versatile, more likely to be reused, and sometimes easier to write.</p>
</section>
<section id="vocabulary" class="level2" data-number="11.10">
<h2 data-number="11.10" class="anchored" data-anchor-id="vocabulary"><span class="header-section-number">11.10</span> Vocabulary</h2>
<dl>
<dt>object-oriented:</dt>
<dd>
<p>A way of organizing code and data into objects, rather than independent methods.</p>
</dd>
<dt>object:</dt>
<dd>
<p>A collection of related data that comes with a set of methods that operate on the data.</p>
</dd>
<dt>primitive:</dt>
<dd>
<p>A data type that stores a single value and provides no methods.</p>
</dd>
<dt>immutable:</dt>
<dd>
<p>An object that, once created, cannot be modified. Strings are immutable by design.</p>
</dd>
<dt>wrapper class:</dt>
<dd>
<p>Classes in <code class="sourceCode java">java<span class="op">.</span><span class="fu">lang</span></code> that provide constants and methods for working with primitive types.</p>
</dd>
<dt>parse:</dt>
<dd>
<p>In Chapter&nbsp;<a href="#variables" data-reference-type="ref" data-reference="variables">2</a>, we defined <em>parse</em> as what the compiler does to analyze a program. Now you know that it means to read a string and interpret or translate it.</p>
</dd>
<dt>empty array:</dt>
<dd>
<p>An array with no elements and a length of zero.</p>
</dd>
<dt>design process:</dt>
<dd>
<p>A process for determining what methods a class or program should have.</p>
</dd>
<dt>encapsulate:</dt>
<dd>
<p>To wrap data inside an object, or to wrap statements inside a method.</p>
</dd>
<dt>generalize:</dt>
<dd>
<p>To replace something unnecessarily specific (like a constant value) with something appropriately general (like a variable or parameter).</p>
</dd>
</dl>
</section>
<section id="exercises" class="level2" data-number="11.11">
<h2 data-number="11.11" class="anchored" data-anchor-id="exercises"><span class="header-section-number">11.11</span> Exercises</h2>
<p>The code for this chapter is in the <em>ch09</em> directory of <em>ThinkJavaCode2</em>. See page&nbsp; for instructions on how to download the repository. Before you start the exercises, we recommend that you compile and run the examples.</p>
<div class="exercise">
<p><strong>Exercise 9.1</strong>. <em>The point of this exercise is to explore Java types and fill in some of the details that aren’t covered in the chapter.</em></p>
<ol type="1">
<li><p><em>Create a new program named </em>Test.java* and write a <code class="sourceCode java">main</code> method that contains expressions that combine various types using the <code class="sourceCode java"><span class="op">+</span></code> operator. For example, what happens when you “add” a <code class="sourceCode java"><span class="bu">String</span></code> and a <code class="sourceCode java"><span class="dt">char</span></code>? Does it perform character addition or string concatenation? What is the type of the result?*</p></li>
<li><p><em>Make a bigger copy of the following table and fill it in. At the intersection of each pair of types, you should indicate whether it is legal to use the <code class="sourceCode java"><span class="op">+</span></code> operator with these types, the operation that is performed (addition or concatenation), and the type of the result.</em></p>
<div class="center">
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th style="text-align: left;"><em>boolean</em></th>
<th style="text-align: left;"><em>&nbsp;char&nbsp;</em></th>
<th style="text-align: left;"><em>&nbsp;&nbsp;int&nbsp;&nbsp;</em></th>
<th style="text-align: left;"><em>double</em></th>
<th style="text-align: left;"><em>String</em></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><em>boolean</em></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td><em>char</em></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td><em>int</em></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td><em>double</em></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td><em>String</em></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</div></li>
<li><p><em>Think about some of the choices the designers of Java made, based on this table. How many of the entries seem unavoidable, as if there was no other choice? How many seem like arbitrary choices from several equally reasonable possibilities? Which entries seem most problematic?</em></p></li>
<li><p><em>Here’s a puzzler: normally, the statement <code class="sourceCode java">x<span class="op">++</span></code> is exactly equivalent to <code class="sourceCode java">x <span class="op">=</span> x <span class="op">+</span> <span class="dv">1</span></code>. But if <code class="sourceCode java">x</code> is a <code class="sourceCode java"><span class="dt">char</span></code>, it’s not exactly the same! In that case, <code class="sourceCode java">x<span class="op">++</span></code> is legal, but <code class="sourceCode java">x <span class="op">=</span> x <span class="op">+</span> <span class="dv">1</span></code> causes an error. Try it out. See what the error message is, and then see if you can figure out what is going on.</em></p></li>
<li><p><em>What happens when you add <code class="sourceCode java"><span class="st">""</span></code> (the empty string) to the other types; for example, <code class="sourceCode java"><span class="st">""</span> <span class="op">+</span> <span class="dv">5</span></code>?</em></p></li>
</ol>
</div>
<div class="exercise">
<p><strong>Exercise 9.2</strong>. <em>You might be sick of the <code class="sourceCode java">factorial</code> method by now, but we’re going to do one more version.</em></p>
<ol type="1">
<li><p><em>Create a new program called </em>Big.java* and write an iterative version of <code class="sourceCode java">factorial</code> (using a <code class="sourceCode java"><span class="cf">for</span></code> loop).*</p></li>
<li><p><em>Display a table of the integers from 0 to 30 along with their factorials. At some point around 15, you will probably see that the answers are not correct anymore. Why not?</em></p></li>
<li><p><em>Convert <code class="sourceCode java">factorial</code> so that it performs its calculation using BigIntegers and returns a <code class="sourceCode java"><span class="bu">BigInteger</span></code> as a result. You can leave the parameter alone; it will still be an integer.</em></p></li>
<li><p><em>Try displaying the table again with your modified factorial method. Is it correct up to 30? How high can you make it go?</em></p></li>
</ol>
</div>
<div class="exercise">
<p><strong>Exercise 9.3</strong>. <em>Many encryption algorithms depend on the ability to raise large integers to a power. Here is a method that implements an efficient algorithm for integer exponentiation:</em></p>
<div class="sourceCode" id="cb44" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">int</span> <span class="fu">pow</span><span class="op">(</span><span class="dt">int</span> x<span class="op">,</span> <span class="dt">int</span> n<span class="op">)</span> <span class="op">{</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>n <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// find x to the n/2 recursively</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> t <span class="op">=</span> <span class="fu">pow</span><span class="op">(</span>x<span class="op">,</span> n <span class="op">/</span> <span class="dv">2</span><span class="op">);</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// if n is even, the result is t squared</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// if n is odd, the result is t squared times x</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>n <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> t <span class="op">*</span> t<span class="op">;</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> t <span class="op">*</span> t <span class="op">*</span> x<span class="op">;</span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><em>The problem with this method is that it works only if the result is small enough to be represented by an <code class="sourceCode java"><span class="dt">int</span></code>. Rewrite it so that the result is a <code class="sourceCode java"><span class="bu">BigInteger</span></code>. The parameters should still be integers, though.</em></p>
<p><em>You should use the <code class="sourceCode java"><span class="bu">BigInteger</span></code> methods <code class="sourceCode java">add</code> and <code class="sourceCode java">multiply</code>. But don’t use <code class="sourceCode java"><span class="bu">BigInteger</span><span class="op">.</span><span class="fu">pow</span></code>; that would spoil the fun.</em></p>
</div>
<div class="exercise">
<p><strong>Exercise 9.4</strong>. <em>One way to calculate <span class="math inline">\(e^x\)</span> is to use the following infinite series expansion. The <span class="math inline">\(i\)</span>th term in the series is <span class="math inline">\(x^i / i!\)</span>. <span class="math display">\[e^x = 1 + x + x^2 / 2! + x^3 / 3! + x^4 / 4! + \ldots\]</span></em></p>
<ol type="1">
<li><p><em>Write a method called <code class="sourceCode java">myexp</code> that takes <code class="sourceCode java">x</code> and <code class="sourceCode java">n</code> as parameters and estimates <span class="math inline">\(e^x\)</span> by adding the first <code class="sourceCode java">n</code> terms of this series. You can use the <code class="sourceCode java">factorial</code> method from Section&nbsp;<a href="ch08.html#factorial" data-reference-type="ref" data-reference="factorial">8.3</a> or your iterative version from the previous exercise.</em></p></li>
<li><p><em>You can make this method more efficient by observing that the numerator of each term is the same as its predecessor multiplied by <code class="sourceCode java">x</code>, and the denominator is the same as its predecessor multiplied by <code class="sourceCode java">i</code>.</em></p>
<p><em>Use this observation to eliminate the use of <code class="sourceCode java"><span class="bu">Math</span><span class="op">.</span><span class="fu">pow</span></code> and <code class="sourceCode java">factorial</code>, and check that you get the same result.</em></p></li>
<li><p><em>Write a method called <code class="sourceCode java">check</code> that takes a parameter, <code class="sourceCode java">x</code>, and displays <code class="sourceCode java">x</code>, <code class="sourceCode java"><span class="fu">myexp</span><span class="op">(</span>x<span class="op">)</span></code>, and <code class="sourceCode java"><span class="bu">Math</span><span class="op">.</span><span class="fu">exp</span><span class="op">(</span>x<span class="op">)</span></code>. The output should look like this:</em></p>
<pre><code>1.0     2.708333333333333     2.718281828459045</code></pre>
<p><em>Use the escape sequence <code class="sourceCode java"><span class="er">'\\</span>t<span class="er">'</span></code> to display a tab character between each of the values.</em></p></li>
<li><p><em>Vary the number of terms in the series (the second argument that <code class="sourceCode java">check</code> sends to <code class="sourceCode java">myexp</code>) and see the effect on the accuracy of the result. Adjust this value until the estimated value agrees with the correct answer when <code class="sourceCode java">x</code> is 1.</em></p></li>
<li><p><em>Write a loop in <code class="sourceCode java">main</code> that invokes <code class="sourceCode java">check</code> with the values 0.1, 1.0, 10.0, and 100.0. How does the accuracy of the result vary as <code class="sourceCode java">x</code> varies? Compare the number of digits of agreement rather than the difference between the actual and estimated values.</em></p></li>
<li><p><em>Add a loop in <code class="sourceCode java">main</code> that checks <code class="sourceCode java">myexp</code> with the values -0.1, -1.0, -10.0, and -100.0. Comment on the accuracy.</em></p></li>
</ol>
</div>
<div class="exercise">
<p><strong>Exercise 9.5</strong>. <em>The goal of this exercise is to practice encapsulation and generalization using some of the examples in previous chapters.</em></p>
<ol type="1">
<li><p><em>Starting with the code in Section&nbsp;<a href="ch07.html#traversal" data-reference-type="ref" data-reference="traversal">7.5</a>, write a method called <code class="sourceCode java">powArray</code> that takes a <code class="sourceCode java"><span class="dt">double</span></code> array, <code class="sourceCode java">a</code>, and returns a new array that contains the elements of <code class="sourceCode java">a</code> squared. Generalize it to take a second argument and raise the elements of <code class="sourceCode java">a</code> to the given power.</em></p></li>
<li><p><em>Starting with the code in Section&nbsp;<a href="ch07.html#enhanced" data-reference-type="ref" data-reference="enhanced">7.8</a>, write a method called <code class="sourceCode java">histogram</code> that takes an <code class="sourceCode java"><span class="dt">int</span></code> array of scores from 0 to (but not including) 100, and returns a histogram of 100 counters. Generalize it to take the number of counters as an argument.</em></p></li>
</ol>
</div>
<div class="exercise">
<p><strong>Exercise 9.6</strong>. <em>The following code fragment traverses a string and checks whether it has the same number of opening and closing parentheses:</em></p>
<div class="sourceCode" id="cb46" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> s <span class="op">=</span> <span class="st">"((3 + 7) * 2)"</span><span class="op">;</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> count <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> s<span class="op">.</span><span class="fu">length</span><span class="op">();</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">char</span> c <span class="op">=</span> s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i<span class="op">);</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>c <span class="op">==</span> <span class="ch">'('</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>        count<span class="op">++;</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>c <span class="op">==</span> <span class="ch">')'</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>        count<span class="op">--;</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>count<span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li><p><em>Encapsulate this fragment in a method that takes a string argument and returns the final value of <code class="sourceCode java">count</code>.</em></p></li>
<li><p><em>Test your method with multiple strings, including some that are balanced and some that are not.</em></p></li>
<li><p><em>Generalize the code so that it works on any string. What could you do to generalize it more?</em></p></li>
</ol>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./ch08.html" class="pagination-link" aria-label="Recursive Methods">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Recursive Methods</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./ch10.html" class="pagination-link" aria-label="Mutable Objects">
        <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Mutable Objects</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>