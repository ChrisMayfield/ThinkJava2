<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>10&nbsp; Mutable Objects – Think Java</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./ch11.html" rel="next">
<link href="./ch09.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="custom.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./ch01.html">Chapters</a></li><li class="breadcrumb-item"><a href="./ch10.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Mutable Objects</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Think Java</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Front Matter</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Chapters</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Computer Programming</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Variables and Operators</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Input and Output</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Methods and Testing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Conditionals and Logic</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Loops and Strings</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Arrays and References</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Recursive Methods</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Immutable Objects</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch10.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Mutable Objects</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Designing Classes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Arrays of Objects</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch13.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Objects of Arrays</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch14.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Extending Classes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch15.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Arrays of Arrays</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch16.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Reusing Classes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch17.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Advanced Topics</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Tools</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Javadoc</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Graphics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Debugging</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#point" id="toc-point" class="nav-link active" data-scroll-target="#point"><span class="header-section-number">10.1</span> Point Objects</a></li>
  <li><a href="#objects-as-parameters" id="toc-objects-as-parameters" class="nav-link" data-scroll-target="#objects-as-parameters"><span class="header-section-number">10.2</span> Objects as Parameters</a></li>
  <li><a href="#sec:Rectangle" id="toc-sec:Rectangle" class="nav-link" data-scroll-target="#sec\:Rectangle"><span class="header-section-number">10.3</span> Objects as Return Values</a></li>
  <li><a href="#rectangles-are-mutable" id="toc-rectangles-are-mutable" class="nav-link" data-scroll-target="#rectangles-are-mutable"><span class="header-section-number">10.4</span> Rectangles Are Mutable</a></li>
  <li><a href="#aliasing" id="toc-aliasing" class="nav-link" data-scroll-target="#aliasing"><span class="header-section-number">10.5</span> Aliasing Revisited</a></li>
  <li><a href="#src.zip" id="toc-src.zip" class="nav-link" data-scroll-target="#src.zip"><span class="header-section-number">10.6</span> Java Library Source</a></li>
  <li><a href="#UML" id="toc-UML" class="nav-link" data-scroll-target="#UML"><span class="header-section-number">10.7</span> Class Diagrams</a></li>
  <li><a href="#scope-revisited" id="toc-scope-revisited" class="nav-link" data-scroll-target="#scope-revisited"><span class="header-section-number">10.8</span> Scope Revisited</a></li>
  <li><a href="#garbage" id="toc-garbage" class="nav-link" data-scroll-target="#garbage"><span class="header-section-number">10.9</span> Garbage Collection</a></li>
  <li><a href="#mutable-vs-immutable" id="toc-mutable-vs-immutable" class="nav-link" data-scroll-target="#mutable-vs-immutable"><span class="header-section-number">10.10</span> Mutable vs Immutable</a></li>
  <li><a href="#stringbuilder" id="toc-stringbuilder" class="nav-link" data-scroll-target="#stringbuilder"><span class="header-section-number">10.11</span> StringBuilder Objects</a></li>
  <li><a href="#vocabulary" id="toc-vocabulary" class="nav-link" data-scroll-target="#vocabulary"><span class="header-section-number">10.12</span> Vocabulary</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises"><span class="header-section-number">10.13</span> Exercises</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">
<div class="notice">
<h4 class="anchored">Notices</h4>
<p>
    This is the free HTML version of <it>Think Java 2e</it>.
    Print and electronic versions are available from
    <a href="https://bookshop.org/a/98697/9781492072508">Bookshop.org</a> and
    <a href="https://amzn.to/2BEmdAn">Amazon</a> (affiliate links).
</p>

<p>
    We are working on making this site accessible in compliance with
    <a href="https://www.w3.org/TR/WCAG21/">Web Content Accessibility Guidelines</a>.
    If you have suggestions for improvements, please <a href="https://github.com/ChrisMayfield/ThinkJava2/issues">file an issue</a>.
</p>

<p>
    Are you using one of our books in a class? We'd like to know about it.
    Please consider filling out <a href="http://spreadsheets.google.com/viewform?formkey=dC0tNUZkMjBEdXVoRGljNm9FRmlTMHc6MA" onclick="javascript: pageTracker._trackPageview('/outbound/survey');">this short survey</a>.
</p>
</div>

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./ch01.html">Chapters</a></li><li class="breadcrumb-item"><a href="./ch10.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Mutable Objects</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="mutable" class="quarto-section-identifier"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Mutable Objects</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>As you learned in the previous chapter, an <em>object</em> is a collection of data that provides a set of methods. For example, a <code class="sourceCode java"><span class="bu">String</span></code> is a collection of characters that provides methods like <code class="sourceCode java">charAt</code> and <code class="sourceCode java">substring</code>.</p>
<p>This chapter explores two new types of objects: <code class="sourceCode java"><span class="bu">Point</span></code> and <code class="sourceCode java"><span class="bu">Rectangle</span></code>. You’ll see how to write methods that take objects as parameters and produce objects as return values. You will also look at the source code for the Java library.</p>
<section id="point" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="point"><span class="header-section-number">10.1</span> Point Objects</h2>
<p>In math, 2D points are often written in parentheses with a comma separating the coordinates. For example, <span class="math inline">\((0,0)\)</span> indicates the origin, and <span class="math inline">\((x,y)\)</span> indicates the point <span class="math inline">\(x\)</span> units to the right and <span class="math inline">\(y\)</span> units up from the origin.</p>
<p>The <code class="sourceCode java">java<span class="op">.</span><span class="fu">awt</span></code> package provides a class named <code class="sourceCode java"><span class="bu">Point</span></code> that represents a location in a Cartesian plane. In order to use the <code class="sourceCode java"><span class="bu">Point</span></code> class, you have to import it:</p>
<div class="sourceCode" id="cb1" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">awt</span><span class="op">.</span><span class="im">Point</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then, to create a new point, you use the <code class="sourceCode java"><span class="kw">new</span></code> operator:</p>
<div class="sourceCode" id="cb2" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Point</span> blank<span class="op">;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>blank <span class="op">=</span> <span class="kw">new</span> <span class="bu">Point</span><span class="op">(</span><span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The first line declares that <code class="sourceCode java">blank</code> has type <code class="sourceCode java"><span class="bu">Point</span></code>. The second line creates the new <code class="sourceCode java"><span class="bu">Point</span></code> with the coordinates <span class="math inline">\(x=3\)</span> and <span class="math inline">\(y=4\)</span>. The result of the <code class="sourceCode java"><span class="kw">new</span></code> operator is a <em>reference</em> to the object. Figure&nbsp;<a href="#fig.reference" data-reference-type="ref" data-reference="fig.reference">10.1</a> shows the result.</p>
<figure id="fig.reference" class="figure">
<div class="center">
<p>
<img src="figs/reference-.svg" alt="Memory diagram showing a variable named blank with an arrow pointing to a Point object containing attributes x=3 and y=4" class="figure-img">
</p>
</div>
<figcaption>
Memory diagram showing a variable that refers to a <code class="sourceCode java"><span class="bu">Point</span></code> object.
</figcaption>
</figure>
<p>As usual, the name of the variable <code class="sourceCode java">blank</code> appears outside the box, and its value appears inside the box. In this case, the value is a reference, which is represented with an arrow. The arrow points to the <code class="sourceCode java"><span class="bu">Point</span></code> object, which contains two variables, <code class="sourceCode java">x</code> and <code class="sourceCode java">y</code>.</p>
<p>Variables that belong to an object are called <strong>attributes</strong>. In some documentation, you also see them called “fields”. To access an attribute of an object, Java uses <strong>dot notation</strong>. For example:</p>
<div class="sourceCode" id="cb3" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> x <span class="op">=</span> blank<span class="op">.</span><span class="fu">x</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The expression <code class="sourceCode java">blank<span class="op">.</span><span class="fu">x</span></code> means “go to the object <code class="sourceCode java">blank</code> refers to, and get the value of the attribute <code class="sourceCode java">x</code>.” In this case, we assign that value to a local variable named <code class="sourceCode java">x</code>.</p>
<p>There is no conflict between the local variable <code class="sourceCode java">x</code> and the attribute <code class="sourceCode java">x</code>. The purpose of dot notation is to identify <em>which</em> variable you are referring to unambiguously.</p>
<p>You can use dot notation as part of an expression. For example:</p>
<div class="sourceCode" id="cb4" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>blank<span class="op">.</span><span class="fu">x</span> <span class="op">+</span> <span class="st">", "</span> <span class="op">+</span> blank<span class="op">.</span><span class="fu">y</span><span class="op">);</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> sum <span class="op">=</span> blank<span class="op">.</span><span class="fu">x</span> <span class="op">*</span> blank<span class="op">.</span><span class="fu">x</span> <span class="op">+</span> blank<span class="op">.</span><span class="fu">y</span> <span class="op">*</span> blank<span class="op">.</span><span class="fu">y</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The first line displays <code class="sourceCode java"><span class="dv">3</span><span class="op">,</span> <span class="dv">4</span></code>. The second line calculates the value <code class="sourceCode java"><span class="dv">25</span></code>.</p>
</section>
<section id="objects-as-parameters" class="level2" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="objects-as-parameters"><span class="header-section-number">10.2</span> Objects as Parameters</h2>
<p>You can pass objects as parameters in the usual way. For example:</p>
<div class="sourceCode" id="cb5" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">printPoint</span><span class="op">(</span><span class="bu">Point</span> p<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">"("</span> <span class="op">+</span> p<span class="op">.</span><span class="fu">x</span> <span class="op">+</span> <span class="st">", "</span> <span class="op">+</span> p<span class="op">.</span><span class="fu">y</span> <span class="op">+</span> <span class="st">")"</span><span class="op">);</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This method takes a point as an argument and displays its attributes in parentheses. If you invoke <code class="sourceCode java"><span class="fu">printPoint</span><span class="op">(</span>blank<span class="op">)</span></code>, it displays <code class="sourceCode java"><span class="op">(</span><span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">)</span></code>.</p>
<p>As another example, we can rewrite the <code class="sourceCode java">distance</code> method from Section&nbsp;<a href="ch04.html#distance" data-reference-type="ref" data-reference="distance">4.9</a> so that it takes two <code class="sourceCode java"><span class="bu">Point</span></code>s as parameters instead of four <code class="sourceCode java"><span class="dt">double</span></code>s:</p>
<div class="sourceCode" id="cb6" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">double</span> <span class="fu">distance</span><span class="op">(</span><span class="bu">Point</span> p1<span class="op">,</span> <span class="bu">Point</span> p2<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> dx <span class="op">=</span> p2<span class="op">.</span><span class="fu">x</span> <span class="op">-</span> p1<span class="op">.</span><span class="fu">x</span><span class="op">;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> dy <span class="op">=</span> p2<span class="op">.</span><span class="fu">y</span> <span class="op">-</span> p1<span class="op">.</span><span class="fu">y</span><span class="op">;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span><span class="op">(</span>dx <span class="op">*</span> dx <span class="op">+</span> dy <span class="op">*</span> dy<span class="op">);</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Passing objects as parameters makes the source code more readable and less error-prone because related values are bundled together.</p>
<p>You actually don’t need to write a <code class="sourceCode java">distance</code> method, because <code class="sourceCode java"><span class="bu">Point</span></code> objects already have one. To compute the distance between two points, we invoke <code class="sourceCode java">distance</code> on one and pass the other as an argument:</p>
<div class="sourceCode" id="cb7" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Point</span> p1 <span class="op">=</span> <span class="kw">new</span> <span class="bu">Point</span><span class="op">(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="bu">Point</span> p2 <span class="op">=</span> <span class="kw">new</span> <span class="bu">Point</span><span class="op">(</span><span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">);</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="dt">double</span> dist <span class="op">=</span> p1<span class="op">.</span><span class="fu">distance</span><span class="op">(</span>p2<span class="op">);</span>  <span class="co">// dist is 5.0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It turns out you don’t need the <code class="sourceCode java">printPoint</code> method either. If you invoke <code class="sourceCode java"><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>blank<span class="op">)</span></code>, it prints the type of the object and the values of the attributes:</p>
<pre><code>java.awt.Point[x=3,y=4]</code></pre>
<p><code class="sourceCode java"><span class="bu">Point</span></code> objects provide a method called <code class="sourceCode java">toString</code> that returns a string representation of a point. When you call <code class="sourceCode java">println</code> with objects, it <em>automatically</em> calls <code class="sourceCode java">toString</code> and displays the result.</p>
</section>
<section id="sec:Rectangle" class="level2" data-number="10.3">
<h2 data-number="10.3" class="anchored" data-anchor-id="sec:Rectangle"><span class="header-section-number">10.3</span> Objects as Return Values</h2>
<p>The <code class="sourceCode java">java<span class="op">.</span><span class="fu">awt</span></code> package also provides a class named <code class="sourceCode java"><span class="bu">Rectangle</span></code>. To use it, you have to import it:</p>
<div class="sourceCode" id="cb9" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">awt</span><span class="op">.</span><span class="im">Rectangle</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code class="sourceCode java"><span class="bu">Rectangle</span></code> objects are similar to points, but they have four attributes: <code class="sourceCode java">x</code>, <code class="sourceCode java">y</code>, <code class="sourceCode java">width</code>, and <code class="sourceCode java">height</code>. The following example creates a <code class="sourceCode java"><span class="bu">Rectangle</span></code> object and makes the variable <code class="sourceCode java">box</code> refer to it:</p>
<div class="sourceCode" id="cb10" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Rectangle</span> box <span class="op">=</span> <span class="kw">new</span> <span class="bu">Rectangle</span><span class="op">(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">200</span><span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Figure&nbsp;<a href="#fig.rectangle" data-reference-type="ref" data-reference="fig.rectangle">10.2</a> shows the effect of this assignment.</p>
<figure id="fig.rectangle" class="figure">
<div class="center">
<p>
<img src="figs/rectangle-.svg" alt="Memory diagram showing a Rectangle object with attributes x=0, y=0, width=100, and height=200" class="figure-img">
</p>
</div>
<figcaption>
Memory diagram showing a <code class="sourceCode java"><span class="bu">Rectangle</span></code> object.
</figcaption>
</figure>
<p>If you run <code class="sourceCode java"><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>box<span class="op">)</span></code>, you get this:</p>
<pre><code>java.awt.Rectangle[x=0,y=0,width=100,height=200]</code></pre>
<p>Again, <code class="sourceCode java">println</code> uses the <code class="sourceCode java">toString</code> method provided by <code class="sourceCode java"><span class="bu">Rectangle</span></code>, which knows how to represent <code class="sourceCode java"><span class="bu">Rectangle</span></code> objects as strings.</p>
<p>You can also write methods that return new objects. For example, <code class="sourceCode java">findCenter</code> takes a <code class="sourceCode java"><span class="bu">Rectangle</span></code> as an argument and returns a <code class="sourceCode java"><span class="bu">Point</span></code> with the coordinates of the center of the rectangle:</p>
<div class="sourceCode" id="cb12" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="bu">Point</span> <span class="fu">findCenter</span><span class="op">(</span><span class="bu">Rectangle</span> box<span class="op">)</span> <span class="op">{</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> x <span class="op">=</span> box<span class="op">.</span><span class="fu">x</span> <span class="op">+</span> box<span class="op">.</span><span class="fu">width</span> <span class="op">/</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> y <span class="op">=</span> box<span class="op">.</span><span class="fu">y</span> <span class="op">+</span> box<span class="op">.</span><span class="fu">height</span> <span class="op">/</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">new</span> <span class="bu">Point</span><span class="op">(</span>x<span class="op">,</span> y<span class="op">);</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The return type of this method is <code class="sourceCode java"><span class="bu">Point</span></code>. The last line creates a new <code class="sourceCode java"><span class="bu">Point</span></code> object and returns a reference to it.</p>
</section>
<section id="rectangles-are-mutable" class="level2" data-number="10.4">
<h2 data-number="10.4" class="anchored" data-anchor-id="rectangles-are-mutable"><span class="header-section-number">10.4</span> Rectangles Are Mutable</h2>
<p>You can change the contents of an object by making an assignment to one of its attributes. For example, to “move” a rectangle without changing its size, you can modify the <code class="sourceCode java">x</code> and <code class="sourceCode java">y</code> values:</p>
<div class="sourceCode" id="cb13" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Rectangle</span> box <span class="op">=</span> <span class="kw">new</span> <span class="bu">Rectangle</span><span class="op">(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">200</span><span class="op">);</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>box<span class="op">.</span><span class="fu">x</span> <span class="op">=</span> box<span class="op">.</span><span class="fu">x</span> <span class="op">+</span> <span class="dv">50</span><span class="op">;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>box<span class="op">.</span><span class="fu">y</span> <span class="op">=</span> box<span class="op">.</span><span class="fu">y</span> <span class="op">+</span> <span class="dv">100</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The result is shown in Figure&nbsp;<a href="#fig.rectangle2" data-reference-type="ref" data-reference="fig.rectangle2">10.3</a>.</p>
<figure id="fig.rectangle2" class="figure">
<div class="center">
<p>
<img src="figs/rectangle2-.svg" alt="Memory diagram showing the same Rectangle object after its x and y attributes have been updated to x=50 and y=100" class="figure-img">
</p>
</div>
<figcaption>
Memory diagram showing updated attributes.
</figcaption>
</figure>
<p>We can encapsulate this code in a method and generalize it to move the rectangle by any amount:</p>
<div class="sourceCode" id="cb14" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">moveRect</span><span class="op">(</span><span class="bu">Rectangle</span> box<span class="op">,</span> <span class="dt">int</span> dx<span class="op">,</span> <span class="dt">int</span> dy<span class="op">)</span> <span class="op">{</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    box<span class="op">.</span><span class="fu">x</span> <span class="op">=</span> box<span class="op">.</span><span class="fu">x</span> <span class="op">+</span> dx<span class="op">;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    box<span class="op">.</span><span class="fu">y</span> <span class="op">=</span> box<span class="op">.</span><span class="fu">y</span> <span class="op">+</span> dy<span class="op">;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The variables <code class="sourceCode java">dx</code> and <code class="sourceCode java">dy</code> indicate how far to move the rectangle in each direction. Invoking this method has the effect of modifying the <code class="sourceCode java"><span class="bu">Rectangle</span></code> that is passed as an argument:</p>
<div class="sourceCode" id="cb15" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Rectangle</span> box <span class="op">=</span> <span class="kw">new</span> <span class="bu">Rectangle</span><span class="op">(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">200</span><span class="op">);</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">moveRect</span><span class="op">(</span>box<span class="op">,</span> <span class="dv">50</span><span class="op">,</span> <span class="dv">100</span><span class="op">);</span>  <span class="co">// now at (50, 100, 100, 200)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Modifying objects by passing them as arguments to methods can be useful. But it can also make debugging difficult, because it is not always clear which method invocations modify their arguments.</p>
<p>Java provides a number of methods that operate on <code class="sourceCode java"><span class="bu">Point</span></code>s and <code class="sourceCode java"><span class="bu">Rectangle</span></code>s. For example, <code class="sourceCode java">translate</code> has the same effect as <code class="sourceCode java">moveRect</code>, but instead of passing the rectangle as an argument, you use dot notation:</p>
<div class="sourceCode" id="cb16" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>box<span class="op">.</span><span class="fu">translate</span><span class="op">(</span><span class="dv">50</span><span class="op">,</span> <span class="dv">100</span><span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This line invokes the <code class="sourceCode java">translate</code> method on the object that <code class="sourceCode java">box</code> refers to, which modifies the object.</p>
<p>This syntax—using dot notation to invoke a method on an object, rather than passing it as a parameter—is more consistent with the style of object-oriented programming.</p>
</section>
<section id="aliasing" class="level2" data-number="10.5">
<h2 data-number="10.5" class="anchored" data-anchor-id="aliasing"><span class="header-section-number">10.5</span> Aliasing Revisited</h2>
<p>Remember that when you assign an object to a variable, you are assigning a <em>reference</em> to an object. It is possible to have multiple variables that refer to the same object. For example, this code creates two variables that refer to the same <code class="sourceCode java"><span class="bu">Rectangle</span></code>:</p>
<div class="sourceCode" id="cb17" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Rectangle</span> box1 <span class="op">=</span> <span class="kw">new</span> <span class="bu">Rectangle</span><span class="op">(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">200</span><span class="op">);</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="bu">Rectangle</span> box2 <span class="op">=</span> box1<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Figure&nbsp;<a href="#fig.aliasing" data-reference-type="ref" data-reference="fig.aliasing">10.4</a> shows the result: <code class="sourceCode java">box1</code> and <code class="sourceCode java">box2</code> refer to the same object, so any changes that affect one variable also affect the other.</p>
<figure id="fig.aliasing" class="figure">
<div class="center">
<p>
<img src="figs/aliasing-.svg" alt="Memory diagram showing two variables box1 and box2 both pointing to the same Rectangle object, demonstrating aliasing" class="figure-img">
</p>
</div>
<figcaption>
Memory diagram showing two variables that refer to the same <code class="sourceCode java"><span class="bu">Rectangle</span></code> object.
</figcaption>
</figure>
<p>For example, the following code uses <code class="sourceCode java">grow</code> to make <code class="sourceCode java">box1</code> bigger by 50 units in all directions. It decreases <code class="sourceCode java">x</code> and <code class="sourceCode java">y</code> by 50, and it increases <code class="sourceCode java">height</code> and <code class="sourceCode java">width</code> by 100:</p>
<div class="sourceCode" id="cb18" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>box1<span class="op">.</span><span class="fu">grow</span><span class="op">(</span><span class="dv">50</span><span class="op">,</span> <span class="dv">50</span><span class="op">);</span>                <span class="co">// grow box1 (alias)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The result is shown in Figure&nbsp;<a href="#fig.aliasing2" data-reference-type="ref" data-reference="fig.aliasing2">10.5</a>.</p>
<figure id="fig.aliasing2" class="figure">
<div class="center">
<p>
<img src="figs/aliasing2-.svg" alt="Memory diagram showing the same aliased Rectangle object after the grow method has modified its attributes to x=-50, y=-50, width=200, and height=300" class="figure-img">
</p>
</div>
<figcaption>
Memory diagram showing the effect of invoking <code class="sourceCode java">grow</code>.
</figcaption>
</figure>
<p>Now, if we print <code class="sourceCode java">box1</code>, we are not surprised to see that it has changed:</p>
<div class="sourceCode" id="cb19" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>java<span class="op">.</span><span class="fu">awt</span><span class="op">.</span><span class="fu">Rectangle</span><span class="op">[</span>x<span class="op">=-</span><span class="dv">50</span><span class="op">,</span>y<span class="op">=-</span><span class="dv">50</span><span class="op">,</span>width<span class="op">=</span><span class="dv">200</span><span class="op">,</span>height<span class="op">=</span><span class="dv">300</span><span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And if we print <code class="sourceCode java">box2</code>, we should not be surprised to see that it has changed too, because it refers to the same object:</p>
<div class="sourceCode" id="cb20" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>java<span class="op">.</span><span class="fu">awt</span><span class="op">.</span><span class="fu">Rectangle</span><span class="op">[</span>x<span class="op">=-</span><span class="dv">50</span><span class="op">,</span>y<span class="op">=-</span><span class="dv">50</span><span class="op">,</span>width<span class="op">=</span><span class="dv">200</span><span class="op">,</span>height<span class="op">=</span><span class="dv">300</span><span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This scenario is called “aliasing” because a single object has multiple names, or aliases, that refer to it.</p>
<p>As you can tell from this simple example, code that involves aliasing can get confusing fast, and it can be difficult to debug.</p>
</section>
<section id="src.zip" class="level2" data-number="10.6">
<h2 data-number="10.6" class="anchored" data-anchor-id="src.zip"><span class="header-section-number">10.6</span> Java Library Source</h2>
<p>So far we have used several classes from the Java library, including <code class="sourceCode java"><span class="bu">System</span></code>, <code class="sourceCode java"><span class="bu">String</span></code>, <code class="sourceCode java"><span class="bu">Scanner</span></code>, <code class="sourceCode java"><span class="bu">Math</span></code>, and <code class="sourceCode java"><span class="bu">Random</span></code>. These classes are written in Java, so you can read the source code to see how they work.</p>
<p>The Java library contains thousands of files, many of which are thousands of lines of code. That’s more than one person could read and understand fully, but don’t be intimidated!</p>
<p>Because it’s so large, the library source code is stored in a ZIP archive named <em>src.zip</em>. If you have Java installed on your computer, you should already have this file somewhere:</p>
<ul>
<li><p>On Linux, it’s likely under: <code>/usr/lib/jvm/.../lib</code><br>
If not, you might have to install the <em>openjdk-...-source</em> package.</p></li>
<li><p>On macOS, it’s likely under:<br>
<code>/Library/Java/JavaVirtualMachines/.../Contents/Home/lib</code></p></li>
<li><p>On Windows, it’s likely under: <code>C:\Program Files\Java\...\lib</code></p></li>
</ul>
<p>When you open (or unzip) the file, you will see folders that correspond to Java packages. For example, open the <em>java</em> folder, and then open the <em>awt</em> folder. (If you don’t see a <em>java</em> folder at first, open the <em>java.desktop</em> folder.) You should now see <em>Point.java</em> and <em>Rectangle.java</em>, along with the other classes in the <code class="sourceCode java">java<span class="op">.</span><span class="fu">awt</span></code> package.</p>
<p>Open <em>Point.java</em> in your editor and skim through the file. It uses language features we haven’t discussed yet, so you probably won’t understand every line. But you can get a sense of what professional Java source code looks like by browsing through the library.</p>
<p>Notice how much of <em>Point.java</em> is documentation (see Appendix&nbsp;<a href="appb.html" data-reference-type="ref" data-reference="javadoc">19</a>). Each method includes comments and tags like <code class="sourceCode java"><span class="at">@param</span></code> and <code class="sourceCode java"><span class="at">@return</span></code>. Javadoc reads these comments and generates documentation in HTML. You can see the same documentation online by doing a web search for “Java Point”.</p>
<p>Now take a look at the <code class="sourceCode java">grow</code> and <code class="sourceCode java">translate</code> methods in the <code class="sourceCode java"><span class="bu">Rectangle</span></code> class. There is more to them than you may have expected.</p>
</section>
<section id="UML" class="level2" data-number="10.7">
<h2 data-number="10.7" class="anchored" data-anchor-id="UML"><span class="header-section-number">10.7</span> Class Diagrams</h2>
<p>To summarize what you’ve learned so far, <code class="sourceCode java"><span class="bu">Point</span></code> and <code class="sourceCode java"><span class="bu">Rectangle</span></code> objects have attributes and methods. Attributes are an object’s <em>data</em>; methods are an object’s <em>code</em>. An object’s <em>class</em> definition specifies the attributes and methods that it has.</p>
<p><strong>Unified Modeling Language</strong> (UML) defines a graphical way to summarize this information. Figure&nbsp;<a href="#fig.umlPoint" data-reference-type="ref" data-reference="fig.umlPoint">10.6</a> shows two examples, the UML <strong>class diagrams</strong> for the <code class="sourceCode java"><span class="bu">Point</span></code> and <code class="sourceCode java"><span class="bu">Rectangle</span></code> classes.</p>
<figure id="fig.umlPoint" class="figure">
<div class="center">
<p>
<img src="figs/point-rect-.svg" alt="UML class diagrams showing Point class with attributes x:int, y:int and methods distance(), and Rectangle class with attributes x:int, y:int, width:int, height:int and methods translate(), grow()" class="figure-img">
</p>
</div>
<figcaption>
UML class diagrams for <code class="sourceCode java"><span class="bu">Point</span></code> and <code class="sourceCode java"><span class="bu">Rectangle</span></code>.
</figcaption>
</figure>
<p>Each class is represented by a box with the name of the class, a list of attributes, and a list of methods.</p>
<p>To identify the types of attributes and parameters, UML uses a language-independent syntax, like <code>x:&nbsp;int</code> rather than Java syntax, <code class="sourceCode java"><span class="dt">int</span> x</code>.</p>
<p>The plus sign (<code class="sourceCode java"><span class="op">+</span></code>) identifies <code class="sourceCode java"><span class="kw">public</span></code> attributes and methods. A minus sign (<code class="sourceCode java"><span class="op">-</span></code>) identifies <code class="sourceCode java"><span class="kw">private</span></code> attributes and methods, which we discuss in the next chapter.</p>
<p>Both <code class="sourceCode java"><span class="bu">Point</span></code> and <code class="sourceCode java"><span class="bu">Rectangle</span></code> have additional methods; we show only the ones introduced in this chapter.</p>
<p>In contrast to memory diagrams, which visualize objects (and variables) at run-time, a class diagram visualizes the source code at compile-time.</p>
</section>
<section id="scope-revisited" class="level2" data-number="10.8">
<h2 data-number="10.8" class="anchored" data-anchor-id="scope-revisited"><span class="header-section-number">10.8</span> Scope Revisited</h2>
<p>In Section&nbsp;<a href="ch04.html#stack" data-reference-type="ref" data-reference="stack">4.5</a>, we introduced the idea that variables have scope. The scope of a variable is the part of a program where a variable can be used.</p>
<p>Consider the first few lines of the <code class="sourceCode java"><span class="bu">Rectangle</span><span class="op">.</span><span class="fu">translate</span></code> method from the Java library source code:</p>
<div class="sourceCode" id="cb21" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">translate</span><span class="op">(</span><span class="dt">int</span> dx<span class="op">,</span> <span class="dt">int</span> dy<span class="op">)</span> <span class="op">{</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> oldv <span class="op">=</span> <span class="kw">this</span><span class="op">.</span><span class="fu">x</span><span class="op">;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> newv <span class="op">=</span> oldv <span class="op">+</span> dx<span class="op">;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>dx <span class="op">&lt;</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This example uses three kinds of variables:</p>
<ul>
<li><p>Parameters (<code class="sourceCode java">dx</code> and <code class="sourceCode java">dy</code>)</p></li>
<li><p>Local variables (<code class="sourceCode java">oldv</code> and <code class="sourceCode java">newv</code>)</p></li>
<li><p>Attributes (<code class="sourceCode java"><span class="kw">this</span><span class="op">.</span><span class="fu">x</span></code>)</p></li>
</ul>
<p>Parameters and local variables are created when a method is invoked, and they disappear when the method returns. They can be used anywhere inside the method, but not in other methods and not in other classes.</p>
<p>Attributes are created when an object is created, and they disappear when the object is destroyed. They can be used in any of the object’s methods, using the keyword <code class="sourceCode java"><span class="kw">this</span></code>. And if they are public, they can be used in other classes via references to the object, <code class="sourceCode java">box1<span class="op">.</span><span class="fu">x</span></code>.</p>
<p>When the Java compiler encounters a variable name, it searches backward for its declaration. The compiler first looks for local variables, then parameters, then attributes.</p>
</section>
<section id="garbage" class="level2" data-number="10.9">
<h2 data-number="10.9" class="anchored" data-anchor-id="garbage"><span class="header-section-number">10.9</span> Garbage Collection</h2>
<p>In the previous section, we said that attributes exist as long as the object exists. But when does an object cease to exist? Here is a simple example:</p>
<div class="sourceCode" id="cb22" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Point</span> blank <span class="op">=</span> <span class="kw">new</span> <span class="bu">Point</span><span class="op">(</span><span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">);</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>blank <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The first line creates a new <code class="sourceCode java"><span class="bu">Point</span></code> object and makes <code class="sourceCode java">blank</code> refer to it. The second line changes <code class="sourceCode java">blank</code> so that instead of referring to the object, it refers to nothing. As shown in Figure&nbsp;<a href="#fig.reference3" data-reference-type="ref" data-reference="fig.reference3">10.7</a>, after the second assignment, there are no references to the <code class="sourceCode java"><span class="bu">Point</span></code> object.</p>
<figure id="fig.reference3" class="figure">
<div class="center">
<p>
<img src="figs/reference3-.svg" alt="Memory diagram showing a variable that was previously pointing to a Point object, but now contains null, with no arrow pointing to any object" class="figure-img">
</p>
</div>
<figcaption>
Memory diagram showing the effect of setting a variable to <code class="sourceCode java"><span class="kw">null</span></code>.
</figcaption>
</figure>
<p>If there are no references to an object, there is no way to access its attributes or invoke a method on it. From the program’s point of view, it ceases to exist. However, it’s still present in the computer’s memory, taking up space.</p>
<p>As your program runs, the system automatically looks for stranded objects and deletes them; then the space can be reused for new objects. This process is called <strong>garbage collection</strong>.</p>
<p>You don’t have to do anything to make garbage collection happen, and in general, you don’t have to be aware of it. But in high-performance applications, you may notice a slight delay every now and then while Java reclaims space from discarded objects.</p>
</section>
<section id="mutable-vs-immutable" class="level2" data-number="10.10">
<h2 data-number="10.10" class="anchored" data-anchor-id="mutable-vs-immutable"><span class="header-section-number">10.10</span> Mutable vs Immutable</h2>
<p><code class="sourceCode java"><span class="bu">Point</span></code>s and <code class="sourceCode java"><span class="bu">Rectangle</span></code>s are <strong>mutable</strong> objects, because their attributes can be modified. You can modify their attributes directly, like <code class="sourceCode java">box<span class="op">.</span><span class="fu">x</span> <span class="op">=</span> <span class="dv">15</span></code>, or you can invoke methods that modify their attributes, like <code class="sourceCode java">box<span class="op">.</span><span class="fu">translate</span><span class="op">(</span><span class="dv">15</span><span class="op">,</span> <span class="dv">0</span><span class="op">)</span></code>.</p>
<p>In contrast, immutable objects like <code class="sourceCode java"><span class="bu">String</span></code>s and <code class="sourceCode java"><span class="bu">Integer</span></code>s cannot be modified. They don’t allow direct access to their attributes or provide methods that change them.</p>
<p>Immutable objects have advantages that help improve the reliability and performance of programs. You can pass strings (and other immutable objects) to methods without worrying about their contents changing as a side-effect of the method. That makes programs easier to debug and more reliable.</p>
<p>Also, two strings that contain the same characters can be stored in memory only once. That can reduce the amount of memory the program uses and can speed it up.</p>
<p>In the following example, <code class="sourceCode java">s1</code> and <code class="sourceCode java">s2</code> are created differently, but they refer to equivalent strings; that is, the two strings contain the same characters:</p>
<div class="sourceCode" id="cb23" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> Surprise <span class="op">{</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">String</span> s1 <span class="op">=</span> <span class="st">"Hi, Mom!"</span><span class="op">;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">String</span> s2 <span class="op">=</span> <span class="st">"Hi, "</span> <span class="op">+</span> <span class="st">"Mom!"</span><span class="op">;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>s1 <span class="op">==</span> s2<span class="op">)</span> <span class="op">{</span>                <span class="co">// true!</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>            <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">"s1 and s2 are the same"</span><span class="op">);</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Because both strings are specified at compile time, the compiler can tell that they are equivalent. And because strings are immutable, there is no need to make two copies; the compiler can create one <code class="sourceCode java"><span class="bu">String</span></code> and make both variables refer to it.</p>
<p>As a result, the test <code class="sourceCode java">s1 <span class="op">==</span> s2</code> turns out to be true, which means that <code class="sourceCode java">s1</code> and <code class="sourceCode java">s2</code> refer to the same object. In other words, they are not just equivalent; they are identical.</p>
<p>Although immutable objects have some advantages, mutable objects have other advantages. Sometimes it is more efficient to modify an existing object, rather than create a new one. And some computations can be expressed more naturally using mutation.</p>
<p>Neither design is always better, which is why you will see both.</p>
</section>
<section id="stringbuilder" class="level2" data-number="10.11">
<h2 data-number="10.11" class="anchored" data-anchor-id="stringbuilder"><span class="header-section-number">10.11</span> StringBuilder Objects</h2>
<p>Here’s an example in which mutable objects are efficient and arguably more natural: building a long string by concatenating lots of small pieces.</p>
<p>Strings are particularly inefficient for this operation. For example, consider the following program, which reads 10 lines from <code class="sourceCode java"><span class="bu">System</span><span class="op">.</span><span class="fu">in</span></code> and concatenates them into a single <code class="sourceCode java"><span class="bu">String</span></code>:</p>
<div class="sourceCode" id="cb24" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> text <span class="op">=</span> <span class="st">""</span><span class="op">;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">10</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> line <span class="op">=</span> in<span class="op">.</span><span class="fu">nextLine</span><span class="op">();</span>        <span class="co">// new string</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> text <span class="op">+</span> line <span class="op">+</span> <span class="ch">'\n'</span><span class="op">;</span>    <span class="co">// two more strings</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">print</span><span class="op">(</span><span class="st">"You entered:</span><span class="sc">\n</span><span class="st">"</span> <span class="op">+</span> text<span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Inside the <code class="sourceCode java"><span class="cf">for</span></code> loop, <code class="sourceCode java">in<span class="op">.</span><span class="fu">nextLine</span><span class="op">()</span></code> returns a new string each time it is invoked. The next line of code concatenates <code class="sourceCode java">text</code> and <code class="sourceCode java">line</code>, which creates another string, and then appends the newline character, which creates yet another string.</p>
<p>As a result, this loop creates 30 <code class="sourceCode java"><span class="bu">String</span></code> objects! At the end, <code class="sourceCode java">text</code> refers to the most recent <code class="sourceCode java"><span class="bu">String</span></code>. Garbage collection deletes the rest, but that’s a lot of garbage for a seemingly simple program.</p>
<p>The Java library provides the <code class="sourceCode java"><span class="bu">StringBuilder</span></code> class for just this reason. It’s part of the <code class="sourceCode java">java<span class="op">.</span><span class="fu">lang</span></code> package, so you don’t need to import it. Because <code class="sourceCode java"><span class="bu">StringBuilder</span></code> objects are mutable, they can implement concatenation more efficiently.</p>
<p>Here’s a version of the program that uses <code class="sourceCode java"><span class="bu">StringBuilder</span></code>:</p>
<div class="sourceCode" id="cb25" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="bu">StringBuilder</span> text <span class="op">=</span> <span class="kw">new</span> <span class="bu">StringBuilder</span><span class="op">();</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">10</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> line <span class="op">=</span> in<span class="op">.</span><span class="fu">nextLine</span><span class="op">();</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    text<span class="op">.</span><span class="fu">append</span><span class="op">(</span>line<span class="op">);</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    text<span class="op">.</span><span class="fu">append</span><span class="op">(</span><span class="ch">'\n'</span><span class="op">);</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">print</span><span class="op">(</span><span class="st">"You entered:</span><span class="sc">\n</span><span class="st">"</span> <span class="op">+</span> text<span class="op">);</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code class="sourceCode java">append</code> method takes a <code class="sourceCode java"><span class="bu">String</span></code> as a parameter and appends it to the end of the <code class="sourceCode java"><span class="bu">StringBuilder</span></code>. Each time it is invoked, it modifies the <code class="sourceCode java"><span class="bu">StringBuilder</span></code>; it doesn’t create any new objects.</p>
<p>If needed, you can return the <code class="sourceCode java"><span class="bu">StringBuilder</span></code>’s contents as a string by calling the <code class="sourceCode java">toString</code> method:</p>
<div class="sourceCode" id="cb26" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> result <span class="op">=</span> text<span class="op">.</span><span class="fu">toString</span><span class="op">();</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code class="sourceCode java"><span class="bu">StringBuilder</span></code> class also provides methods for inserting and deleting parts of strings efficiently. Programs that manipulate large amounts of text run much faster if you use <code class="sourceCode java"><span class="bu">StringBuilder</span></code> instead of <code class="sourceCode java"><span class="bu">String</span></code>.</p>
</section>
<section id="vocabulary" class="level2" data-number="10.12">
<h2 data-number="10.12" class="anchored" data-anchor-id="vocabulary"><span class="header-section-number">10.12</span> Vocabulary</h2>
<dl>
<dt>attribute:</dt>
<dd>
<p>One of the named data items that make up an object.</p>
</dd>
<dt>dot notation:</dt>
<dd>
<p>Use of the dot operator (<code class="sourceCode java"><span class="op">.</span></code>) to access an object’s attributes or methods.</p>
</dd>
<dt>UML:</dt>
<dd>
<p>Unified Modeling Language, a standard way to draw diagrams for software engineering.</p>
</dd>
<dt>class diagram:</dt>
<dd>
<p>An illustration of the attributes and methods for a class.</p>
</dd>
<dt>garbage collection:</dt>
<dd>
<p>The process of finding objects that have no references and reclaiming their storage space.</p>
</dd>
<dt>mutable:</dt>
<dd>
<p>An object that can be modified at any time. Points and rectangles are mutable by design.</p>
</dd>
</dl>
</section>
<section id="exercises" class="level2" data-number="10.13">
<h2 data-number="10.13" class="anchored" data-anchor-id="exercises"><span class="header-section-number">10.13</span> Exercises</h2>
<p>The code for this chapter is in the <em>ch10</em> directory of <em>ThinkJavaCode2</em>. See page&nbsp; for instructions on how to download the repository. Before you start the exercises, we recommend that you compile and run the examples.</p>
<p>At this point, you know enough to read Appendix&nbsp;<a href="appc.html" data-reference-type="ref" data-reference="graphics">20</a>, which is about simple 2D graphics and animations. During the next few chapters, you should take a detour to read this appendix and work through the exercises.</p>
<div class="exercise">
<p><strong>Exercise 10.1</strong>. <em>The point of this exercise is to make sure you understand the mechanism for passing objects as parameters.</em></p>
<ol type="1">
<li><p><em>For the following program, draw a stack diagram showing the local variables and parameters of <code class="sourceCode java">main</code> and <code class="sourceCode java">riddle</code> just before <code class="sourceCode java">riddle</code> returns. Use arrows to show which objects each variable references.</em></p></li>
<li><p><em>What is the output of the program?</em></p></li>
<li><p><em>Is the <code class="sourceCode java">blank</code> object mutable or immutable? How can you tell?</em></p></li>
</ol>
<div class="sourceCode" id="cb27" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">int</span> <span class="fu">riddle</span><span class="op">(</span><span class="dt">int</span> x<span class="op">,</span> <span class="bu">Point</span> p<span class="op">)</span> <span class="op">{</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> x <span class="op">+</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x <span class="op">+</span> p<span class="op">.</span><span class="fu">x</span> <span class="op">+</span> p<span class="op">.</span><span class="fu">y</span><span class="op">;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb28" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> x <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Point</span> blank <span class="op">=</span> <span class="kw">new</span> <span class="bu">Point</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">);</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="fu">riddle</span><span class="op">(</span>x<span class="op">,</span> blank<span class="op">));</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>x<span class="op">);</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>blank<span class="op">.</span><span class="fu">x</span><span class="op">);</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>blank<span class="op">.</span><span class="fu">y</span><span class="op">);</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="exercise">
<p><strong>Exercise 10.2</strong>. <em>The point of this exercise is to make sure you understand the mechanism for returning new objects from methods. The following code uses <code class="sourceCode java">findCenter</code> and <code class="sourceCode java">distance</code> as defined in this chapter.</em></p>
<ol type="1">
<li><p><em>Draw a stack diagram showing the state of the program just before <code class="sourceCode java">findCenter</code> returns. Include all variables and parameters, and show the objects those variables refer to.</em></p></li>
<li><p><em>Draw a stack diagram showing the state of the program just before <code class="sourceCode java">distance</code> returns. Show all variables, parameters, and objects.</em></p></li>
<li><p><em>What is the output of this program? (Can you tell without running it?)</em></p></li>
</ol>
<div class="sourceCode" id="cb29" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Point</span> blank <span class="op">=</span> <span class="kw">new</span> <span class="bu">Point</span><span class="op">(</span><span class="dv">5</span><span class="op">,</span> <span class="dv">8</span><span class="op">);</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Rectangle</span> rect <span class="op">=</span> <span class="kw">new</span> <span class="bu">Rectangle</span><span class="op">(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">4</span><span class="op">);</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Point</span> center <span class="op">=</span> <span class="fu">findCenter</span><span class="op">(</span>rect<span class="op">);</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">double</span> dist <span class="op">=</span> <span class="fu">distance</span><span class="op">(</span>center<span class="op">,</span> blank<span class="op">);</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>dist<span class="op">);</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="exercise">
<p><strong>Exercise 10.3</strong>. <em>This exercise is about aliasing. Recall that aliases are two variables that refer to the same object. The following code uses <code class="sourceCode java">findCenter</code> and <code class="sourceCode java">printPoint</code> as defined in this chapter.</em></p>
<ol type="1">
<li><p><em>Draw a diagram that shows the state of the program just before the end of <code class="sourceCode java">main</code>. Include all local variables and the objects they refer to.</em></p></li>
<li><p><em>What is the output of the program?</em></p></li>
<li><p><em>At the end of <code class="sourceCode java">main</code>, are <code class="sourceCode java">p1</code> and <code class="sourceCode java">p2</code> aliased? Why or why not?</em></p></li>
</ol>
<div class="sourceCode" id="cb30" data-language="Java"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Rectangle</span> box1 <span class="op">=</span> <span class="kw">new</span> <span class="bu">Rectangle</span><span class="op">(</span><span class="dv">2</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">9</span><span class="op">);</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Point</span> p1 <span class="op">=</span> <span class="fu">findCenter</span><span class="op">(</span>box1<span class="op">);</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">printPoint</span><span class="op">(</span>p1<span class="op">);</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    box1<span class="op">.</span><span class="fu">grow</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Point</span> p2 <span class="op">=</span> <span class="fu">findCenter</span><span class="op">(</span>box1<span class="op">);</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">printPoint</span><span class="op">(</span>p2<span class="op">);</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./ch09.html" class="pagination-link" aria-label="Immutable Objects">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Immutable Objects</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./ch11.html" class="pagination-link" aria-label="Designing Classes">
        <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Designing Classes</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>